//version 1.2.3 - enable camera selection, fixed editor framerate setting not being set

var _0x2c4d12 = _0x2883; function _0x5619() { var _0x501ce3 = ['STABLE_POSE_ROT_FACTOR', 'STABLE_POSE_POS_FACTOR', '20661492qcorNk', 'DMatchVectorVector', 'createTextNode', 'deviceId', 'SOLVEPNP_ITERATIVE', 'onclick', 'top', 'round', 'TRACK_WINDOW_SIZE_QOS', 'apply', 'all\x20targets\x20loaded', 'lastj', 'lasti', 'UPDATE_INTERVAL', 'distance', 'input', 'atan', 'OnTrackingFound', 'stopSmoothMode', 'loaded\x20', 'getElementById', 'unityUpdatePose', 'unity-canvas', 'WARP_INVERSE_MAP', 'roi', 'predict', 'KALMAN_MEAS_NOISE_ROT', 'FRAMERATE', 'rectangle', 'floor', 'setMeasNoise', 'detect', 'now', 'set\x20', 'matcher', 'random', 'parse', 'zIndex', 'inv', 'CAM_DIST_MAT', 'debugKps', 'debugLoad', 'KeyPointVector', 'setFramerate', 'initKalman', 'transform', 'VIDEO', 'Point', 'slider', 'unityTargetFound\x20', 'MAX_PIXELS_QOS', 'createElement', 'getUserMedia', 'select', 'init\x20features', 'FEATURE_COUNT', 'size', 'startWebcam', 'bestCoverage', 'refineMatches', 'warpPerspective', 'CV_32FC2', 'info', 'filterNoise', 'rotMat', 'SHARPEN_IMAGE', 'TRACK_PATCH_SIZE', 'sqrt', 'unitySetFov', 'Smoooth\x20Threshold\x20(Pos)', 'KALMAN_PROC_NOISE_POS', 'video', 'INTER_LINEAR', 'absolute', 'kpSharp', 'init\x20camera\x20matrix', 'lastw', 'cols', 'QOS', 'SendMessage', 'getPatches', 'warp', 'initWebcamSettings', 'TRACK_PATCH_SIZE_QOS', 'H_MATCH_COUNT_TRACK', 'setPoseFactors', 'des', 'Scalar', 'CV_32F', 'split', 'warn', 'compute', 'untracked', 'Rodrigues', 'videoWidth', 'state', 'transitionMatrix', 'STABLE_POSE_DELTA_ROT', 'measurementMatrix', 'LAST_K1', '11BxdeSn', 'remove', 'KALMAN_POSE_ROT_FACTOR', 'push', 'perspectiveTransform', 'Refresh', 'toString', 'body', 'KALMAN_POSE_POS_FACTOR', 'height', 'video\x20resolution', 'drawKeypoints', '\x20=\x20', 'checkpose', 'data', 'refinedMatches', 'patch', 'Tracked\x20Points', 'backCams', 'CANVAS_HEIGHT', 'detectCompute', 'resetKalman', 'isImageTracked', 'log', 'src', 'trackedCount', 'Smoooth\x20Threshold\x20(Rot)', 'LAST_S2', 'VALID_POSE_DELTA_POS', 'indexOf', 'CV_8UC1', 'COLOR_GRAY2RGB', 'LAST_FRAMERATE', 'cvtColor', 'warpKeypoints', 'bleed\x20vertical', 'imread', 'LAST_POSE_IS_STABLE', 'trainIdx', 'lastUpdateTime', 'ceil', 'console', 'LAST_N1', 'var', 'extractor', 'set', 'VALID_POSE_DELTA_POS_QOS', 'WEBCAM_SETTINGS', 'innerHTML', 'imageTargets', 'minMaxLoc', 'MAX_SIMULTANEOUS_TRACK', 'kalman', '1448702OZEQbj', 'track', 'white', 'CANVAS_WIDTH', 'resize', 'setNoise21x21', 'KALMAN_DELTA_ROT', 'rows', 'KALMAN_PROC_NOISE_VEL', 'videoinput', 'onload', 'error', 'SetCameraFov', 'LAST_K2', 'tvec', '376359DBPbAW', 'CTX', 'option', 'TRACK_IMPROVE_MATCHES', 'isPoseValid', 'MATCH_DISTANCE_DETECT_ROI', 'min', 'extractor2', '1hPvnuA', 'setTrackerSettings', 'measurementNoiseCov', 'length', 'firstChild', 'gemm', 'line', 'zeros', 'maxLoc', 'knnMatch', 'muted', 'update', 'kind', '#0008', 'querySelectorAll', '2120bhGYyE', 'deletePatches', 'hasPrediction', 'H_MATCH_COUNT_DETECT', 'graySharp', 'errorCovPre', 'tracker.', 'STABLE_PATCH_SIZE', 'style', 'cameraPaused', 'CANVAS', 'then', 'ENABLE_NOISE_FILTER', 'includes', 'targetsInScene', '\x20to\x20', 'detectROI', 'OnTrackingLost', 'value', 'FOV', 'TRACK_WINDOW_SIZE', 'STABLE_PATCH_SIZE_QOS', 'insertBefore', 'KalmanFilter', 'H_MATCH_COUNT_DETECT_ROI', 'getPoseFactors', 'setQOS', 'init\x20webcam\x20settings', 'valid', 'bleed\x20horizontal', 'keys', 'max', 'delete', 'debugIds', 'GaussianBlur', 'button', 'LAST_S1', 'bind', 'srcObject', 'init\x20imagetargets', 'mediaDevices', 'debugChooseCam', 'SIFT', 'gray', 'matchPatches', 'facing\x20front', 'unityTargetFound', 'startSmoothMode', 'enumerateDevices', 'labelVal', 'opencv.js', 'CV_32SC2', 'meas', 'checkAvailableCams', 'canvas', 'DETECT_ROI_CENTER_SIDE', 'showChooseCam', 'getCorners', 'videoBackground', 'LAST_TRACK_TARGET_MATCH_COUNT', 'setNoise7x7', 'data32F', '240px', 'appendChild', 'tracker\x20resolution', 'idealMatches', 'createSlider', '-100', 'width', 'unityTargetLost', 'RANSAC', '8wGfPWe', 'fillConvexPoly', 'LAST_N2', 'TRACK_TARGET_MATCH_COUNT', '11298kXsuJD', 'play', 'predictKalman', 'lastRefineMatchesTime', 'range', 'DETECT_INTERVAL', 'KALMAN_MEAS_NOISE_POS', 'KALMAN_DELTA_POS', 'copyTo', 'COLOR_RGBA2GRAY', 'KALMAN_PROC_NOISE_ACC', 'translate(-50%,-50%)', 'left', 'getMesNoise', 'solvePnP', 'makeGray', 'onloadedmetadata', 'Mat', 'stop\x20smooth\x20mode', 'constructor', 'showDebugMode', 'unpauseCamera', 'DMatchVector', 'match', 'VALID_POSE_DELTA_ROT', 'detector', 'debugSave', 'correctKalman', 'NORM_HAMMING', 'addEventListener', 'startWebcamDiv', 'randomIntFromInterval', 'VALID_POSE_DELTA_ROT_QOS', 'CAM_MAT', 'DEBUG_CHOOSE_CAM', '\x20from\x20', 'projectPoints', 'unityInstance', 'tracker', 'Size', 'position', 'statePost', '10px', '3397541IfSVET', 'sharpen', 'homography', 'debugShow', 'empty', 'Detectability', 'marginRight', 'debugHide', 'correct', 'assign', 'tracked', 'loadTargets', '8072307vSaaQW', 'clearRect', 'pow', 'debugImages', 'TM_CCORR_NORMED', 'setPoseFactorsInternal', 'coverage', 'uncropKeypoints', 'video.play', 'KALMAN_PROC_NOISE_RVEL', 'TRACK_IMPROVE_MATCHES_DELAY', 'matFromArray', 'forEach', 'TRACKER_NAME', 'reverse', 'BFMatcher', 'matcher2', 'OnTrack', '{}.constructor(\x22return\x20this\x22)(\x20)', '40px', 'STABLE_POSE_DELTA_POS', 'debugMatches', 'isStarted', 'desSharp', 'innerWidth', '9745810CUJKKA', 'playsinline', 'drawMatches', 'MAX_PIXELS', 'debugImageTarget', 'STABLE_WINDOW_SIZE', 'Camera\x20', 'getBoundingClientRect', 'innerHeight', 'KALMAN_PROC_NOISE_ROT', 'table', 'marginBottom', 'lastPose', 'matches', 'H_REPROJ_THRESH', 'videoHeight', 'untrack', 'debugDelete', 'detectIndex', 'KALMAN_PROC_NOISE_RACC', 'startTracker', 'canvas\x20resolution', '28iClHWc', 'DETECT_ROI_CENTER_SCALE', 'getROI', 'getPose', '50%', 'MAX_AREA', 'statePre', 'get', 'Stable\x20Threshold\x20(Pos)', 'push_back', 'MATCH_DISTANCE_DETECT', 'Rect', 'color', 'debugSliders', 'dot', 'label', 'lastDetectTime', 'queryIdx', 'getContext', 'ASPECT_RATIO', 'getHomography', '__proto__', 'unityTargetLost\x20', 'start\x20smooth\x20mode', 'init\x20settings', 'setKalmanTransition', 'warpMatches', 'ORB']; _0x5619 = function () { return _0x501ce3; }; return _0x5619(); } (function (_0x5c5de3, _0x256567) { var _0x554b2b = _0x2883, _0x25e367 = _0x5c5de3(); while (!![]) { try { var _0x595ff8 = parseInt(_0x554b2b(0x1ec)) / 0x1 * (-parseInt(_0x554b2b(0x1d5)) / 0x2) + parseInt(_0x554b2b(0x1e4)) / 0x3 * (parseInt(_0x554b2b(0x11e)) / 0x4) + -parseInt(_0x554b2b(0x1fb)) / 0x5 * (-parseInt(_0x554b2b(0xb8)) / 0x6) + parseInt(_0x554b2b(0xe3)) / 0x7 * (-parseInt(_0x554b2b(0xb4)) / 0x8) + parseInt(_0x554b2b(0xef)) / 0x9 + -parseInt(_0x554b2b(0x108)) / 0xa * (-parseInt(_0x554b2b(0x1a0)) / 0xb) + -parseInt(_0x554b2b(0x13c)) / 0xc; if (_0x595ff8 === _0x256567) break; else _0x25e367['push'](_0x25e367['shift']()); } catch (_0x34b335) { _0x25e367['push'](_0x25e367['shift']()); } } }(_0x5619, 0x96872)); var _0x102c38 = (function () { var _0x4e0ba3 = !![]; return function (_0x4d433a, _0x21519b) { var _0x2fa339 = _0x4e0ba3 ? function () { var _0x498e1b = _0x2883; if (_0x21519b) { var _0x3b5239 = _0x21519b[_0x498e1b(0x145)](_0x4d433a, arguments); return _0x21519b = null, _0x3b5239; } } : function () { }; return _0x4e0ba3 = ![], _0x2fa339; }; }()), _0x443383 = _0x102c38(this, function () { var _0x335d87 = _0x2883, _0x5211ed = function () { var _0x44c42a = _0x2883, _0x7ca5d1; try { _0x7ca5d1 = Function('return\x20(function()\x20' + _0x44c42a(0x101) + ');')(); } catch (_0xe9a4fb) { _0x7ca5d1 = window; } return _0x7ca5d1; }, _0x47731c = _0x5211ed(), _0x5af0b5 = _0x47731c[_0x335d87(0x1c9)] = _0x47731c[_0x335d87(0x1c9)] || {}, _0x12ea67 = ['log', _0x335d87(0x196), _0x335d87(0x17a), _0x335d87(0x1e0), 'exception', _0x335d87(0x112), 'trace']; for (var _0x3aa045 = 0x0; _0x3aa045 < _0x12ea67['length']; _0x3aa045++) { var _0x1eff78 = _0x102c38[_0x335d87(0xcb)]['prototype'][_0x335d87(0x220)](_0x102c38), _0x3de417 = _0x12ea67[_0x3aa045], _0xbeee94 = _0x5af0b5[_0x3de417] || _0x1eff78; _0x1eff78[_0x335d87(0x133)] = _0x102c38['bind'](_0x102c38), _0x1eff78[_0x335d87(0x1a6)] = _0xbeee94['toString'][_0x335d87(0x220)](_0xbeee94), _0x5af0b5[_0x3de417] = _0x1eff78; } }); _0x443383(); var script = document[_0x2c4d12(0x16f)]('script'); script[_0x2c4d12(0x1df)] = function () { var _0x78e237 = _0x2c4d12; cv[_0x78e237(0x206)](_0x527690 => { var _0x501a31 = _0x78e237; console[_0x501a31(0x1b7)]('cv\x20initialized'), window['cv'] = _0x527690, window[_0x501a31(0xde)] = new ImageTracker(), window[_0x501a31(0xd5)](_0x501a31(0x1d9), window[_0x501a31(0xde)][_0x501a31(0x1d9)], !![]); }); }, script['src'] = _0x2c4d12(0x9f), document[_0x2c4d12(0x1a7)][_0x2c4d12(0xac)](script); class ImageTracker { constructor() { var _0x4896b1 = _0x2c4d12; console['log'](_0x4896b1(0x136)), this[_0x4896b1(0x18a)] = 0x1, this[_0x4896b1(0xfc)] = 'Tracker', this['FRAMERATE'] = 0x1e, this[_0x4896b1(0x16e)] = [0x12c, 0x1c2, 0x258], this[_0x4896b1(0x123)] = 0x9c40, this[_0x4896b1(0x17d)] = !![], this['DEBUG_CHOOSE_CAM'] = ![], this['DETECT_INTERVAL'] = 0xc8, this['DETECT_ROI_CENTER_SIDE'] = 0x96, this[_0x4896b1(0x11f)] = 0.5, this['MATCH_DISTANCE_DETECT_ROI'] = 0.8, this[_0x4896b1(0x213)] = 0x5, this[_0x4896b1(0x128)] = 0.6, this[_0x4896b1(0x1fe)] = 0xa, this['MATCH_DISTANCE_TRACK'] = 0.8, this[_0x4896b1(0x190)] = 0xa, this['MAX_SIMULTANEOUS_TRACK'] = 0x1, this[_0x4896b1(0x116)] = 0xa, this[_0x4896b1(0x18f)] = [0xd, 0xf, 0x15], this['TRACK_WINDOW_SIZE_QOS'] = [0x24, 0x30, 0x40], this[_0x4896b1(0x210)] = [0xd, 0xf, 0x13], this['STABLE_WINDOW_SIZE_QOS'] = [0x14, 0x18, 0x20], this[_0x4896b1(0x1e7)] = !![], this[_0x4896b1(0xb7)] = 0x19, this[_0x4896b1(0xf9)] = 0x3e8, this[_0x4896b1(0x1a8)] = 0.003, this[_0x4896b1(0x1a2)] = 0.004, this[_0x4896b1(0x13b)] = 0.02, this['STABLE_POSE_ROT_FACTOR'] = 0.01, this['VALID_POSE_DELTA_POS_QOS'] = [0.03, 0.04, 0.05], this['VALID_POSE_DELTA_ROT_QOS'] = [0.75, 0.7, 0.65], this[_0x4896b1(0x1c5)] = ![], console[_0x4896b1(0x1b7)](_0x4896b1(0x172)), this['FEATURE_COUNT'] = 0x1f4, this[_0x4896b1(0xd1)] = new cv[(_0x4896b1(0x225))](), this[_0x4896b1(0x1cc)] = new cv['SIFT'](), this[_0x4896b1(0x15e)] = new cv[(_0x4896b1(0xfe))](cv['NORM_L2']), this['detector2'] = new cv['ORB'](this[_0x4896b1(0x173)]), this[_0x4896b1(0x1eb)] = new cv[(_0x4896b1(0x139))](this[_0x4896b1(0x173)]), this[_0x4896b1(0xff)] = new cv[(_0x4896b1(0xfe))](cv[_0x4896b1(0xd4)]), console[_0x4896b1(0x1b7)](_0x4896b1(0x222)), this[_0x4896b1(0xee)](() => { var _0x5007ae = _0x4896b1; console[_0x5007ae(0x1b7)](_0x5007ae(0x146), this['imageTargets']); }); if (this[_0x4896b1(0xda)]) this['debugChooseCam'](); this['ENABLE_NOISE_FILTER'] = !![], this[_0x4896b1(0xbe)] = 0.15, this[_0x4896b1(0x156)] = 0.15, this[_0x4896b1(0x182)] = 0.00001, this['KALMAN_PROC_NOISE_VEL'] = 0x1, this[_0x4896b1(0xc2)] = 0x1, this[_0x4896b1(0x111)] = 0.00001, this[_0x4896b1(0xf8)] = 0x1, this[_0x4896b1(0x11b)] = 0x1, this[_0x4896b1(0x215)](this[_0x4896b1(0x18a)]), this[_0x4896b1(0x1b9)] = 0x0, this[_0x4896b1(0x18e)](); } [_0x2c4d12(0x215)](_0x433f95) { var _0x4a0c53 = _0x2c4d12; this[_0x4a0c53(0x18a)] = 0x2, this['MAX_PIXELS'] = this[_0x4a0c53(0x16e)][this[_0x4a0c53(0x18a)]], this[_0x4a0c53(0x17e)] = this[_0x4a0c53(0x18f)][this[_0x4a0c53(0x18a)]], this['TRACK_WINDOW_SIZE'] = this[_0x4a0c53(0x144)][this[_0x4a0c53(0x18a)]], this[_0x4a0c53(0x1bc)] = this[_0x4a0c53(0x1ce)][this[_0x4a0c53(0x18a)]], this[_0x4a0c53(0xd0)] = this[_0x4a0c53(0xd8)][this[_0x4a0c53(0x18a)]], this[_0x4a0c53(0xf4)](), this[_0x4a0c53(0x202)] = this[_0x4a0c53(0x210)][this[_0x4a0c53(0x18a)]], this[_0x4a0c53(0x10d)] = this['STABLE_WINDOW_SIZE_QOS'][this['QOS']], window['tracker'] && tracker[_0x4a0c53(0x1d9)](); } [_0x2c4d12(0x167)](_0x115e06) { var _0x453abe = _0x2c4d12; tracker[_0x453abe(0x157)] = _0x115e06, clearInterval(tracker[_0x453abe(0x149)]), tracker[_0x453abe(0x149)] = setInterval(tracker[_0x453abe(0x1f7)], 0x1 / tracker[_0x453abe(0x157)] * 0x3e8, tracker['VIDEO'], tracker[_0x453abe(0x205)], tracker[_0x453abe(0x1e5)]); } [_0x2c4d12(0x214)]() { var _0x5cd28a = _0x2c4d12; console[_0x5cd28a(0x1b7)]('(' + this['KALMAN_POSE_POS_FACTOR'] + ',' + this[_0x5cd28a(0x1a2)] + ',' + this['STABLE_POSE_POS_FACTOR'] + ',' + this[_0x5cd28a(0x13a)] + ')'); } [_0x2c4d12(0x191)](_0x59dcda, _0x5494b7, _0x307f9e, _0x1cf66d) { var _0x34ace9 = _0x2c4d12; this[_0x34ace9(0x1a8)] = _0x59dcda, this['KALMAN_POSE_ROT_FACTOR'] = _0x5494b7, this[_0x34ace9(0x13b)] = _0x307f9e, this[_0x34ace9(0x13a)] = _0x1cf66d, this[_0x34ace9(0xf4)](); } [_0x2c4d12(0xf4)]() { var _0x547cda = _0x2c4d12; this[_0x547cda(0xbf)] = this[_0x547cda(0x1ce)][this['QOS']] * this[_0x547cda(0x1a8)], this['KALMAN_DELTA_ROT'] = 0x1 - (0x1 - this[_0x547cda(0xd8)][this[_0x547cda(0x18a)]]) * this[_0x547cda(0x1a2)], this[_0x547cda(0x103)] = this[_0x547cda(0x1ce)][this[_0x547cda(0x18a)]] * this[_0x547cda(0x13b)], this[_0x547cda(0x19d)] = 0x1 - (0x1 - this[_0x547cda(0xd8)][this['QOS']]) * this[_0x547cda(0x13a)]; } [_0x2c4d12(0x22a)]() { var _0x4ee698 = _0x2c4d12; console[_0x4ee698(0x1b7)](_0x4ee698(0x135)), this[_0x4ee698(0x19f)] = this[_0x4ee698(0x1a8)], this[_0x4ee698(0x1e2)] = this[_0x4ee698(0x1a2)], this[_0x4ee698(0x21f)] = this[_0x4ee698(0x13b)], this[_0x4ee698(0x1bb)] = this[_0x4ee698(0x13a)], this[_0x4ee698(0x191)](0.075, 0.075, 0.02, 0.01), this[_0x4ee698(0xa8)] = this[_0x4ee698(0xb7)], this['TRACK_TARGET_MATCH_COUNT'] = 0xf, this['LAST_N1'] = this['KALMAN_MEAS_NOISE_POS'], this[_0x4ee698(0xb6)] = this['KALMAN_MEAS_NOISE_ROT'], this[_0x4ee698(0x15a)](1.5, 1.5), this[_0x4ee698(0x1c0)] = this[_0x4ee698(0x157)]; } [_0x2c4d12(0x14e)]() { var _0xef1e3c = _0x2c4d12; console[_0xef1e3c(0x1b7)](_0xef1e3c(0xca)), this[_0xef1e3c(0x191)](this['LAST_K1'], this[_0xef1e3c(0x1e2)], this[_0xef1e3c(0x21f)], this[_0xef1e3c(0x1bb)]), this['TRACK_TARGET_MATCH_COUNT'] = this[_0xef1e3c(0xa8)], this[_0xef1e3c(0x15a)](this[_0xef1e3c(0x1ca)], this[_0xef1e3c(0xb6)]); } [_0x2c4d12(0x11c)](_0x10c9b2, _0xe48fc2) { var _0x45001e = _0x2c4d12; this[_0x45001e(0x209)] = _0x10c9b2[_0x45001e(0x195)](','), this[_0x45001e(0x105)] = !![], this[_0x45001e(0xfc)] = _0xe48fc2; } ['stopTracker']() { var _0x377159 = _0x2c4d12; this[_0x377159(0x105)] = ![], Object['keys'](this[_0x377159(0x1d1)][_0x377159(0xed)])['forEach'](_0x1cea51 => { var _0x24a838 = _0x377159; this[_0x24a838(0x118)](_0x1cea51); }); } ['pauseCamera']() { var _0x371eb9 = _0x2c4d12; this[_0x371eb9(0x204)] = !![], this[_0x371eb9(0x16a)]['pause'](); } [_0x2c4d12(0xcd)]() { var _0x4636aa = _0x2c4d12; this[_0x4636aa(0x204)] = ![], this[_0x4636aa(0x16a)]['play'](); } [_0x2c4d12(0x1b6)](_0x56bcd5) { var _0x815f6d = _0x2c4d12, _0x1fdbbe = Object[_0x815f6d(0x219)](this[_0x815f6d(0x1d1)][_0x815f6d(0xed)]); return _0x1fdbbe[_0x815f6d(0x208)](_0x56bcd5); } [_0x2c4d12(0x1ed)](_0x38307c) { var _0x2e692c = _0x2c4d12; console[_0x2e692c(0x1b7)](_0x38307c); var _0x1e1162 = JSON[_0x2e692c(0x160)](_0x38307c); Object[_0x2e692c(0x219)](_0x1e1162)['forEach'](_0x3ce16b => { var _0xaf291e = _0x2e692c; _0x3ce16b in this && this[_0x3ce16b] != _0x1e1162[_0x3ce16b] && (this[_0x3ce16b] = _0x1e1162[_0x3ce16b], console[_0xaf291e(0x1b7)](_0xaf291e(0x15d) + _0x3ce16b + _0xaf291e(0x20a) + _0x1e1162[_0x3ce16b])); }), this[_0x2e692c(0x215)](this[_0x2e692c(0x18a)]), this[_0x2e692c(0x167)](this['FRAMERATE']); } [_0x2c4d12(0x10c)](_0x2391a7) { var _0x1ba816 = _0x2c4d12; !_0x2391a7 && this[_0x1ba816(0xea)]('debugImageTarget'); var _0x422990 = this[_0x1ba816(0x1d1)][_0x1ba816(0x198)][_0x2391a7]; _0x422990 ? this[_0x1ba816(0x164)](_0x422990[_0x1ba816(0x226)], _0x422990['kp'], _0x1ba816(0x10c)) : this['debugHide'](_0x1ba816(0x10c)); } async['checkAvailableCams']() { var _0xffc349 = _0x2c4d12; let _0x3082a9 = [], _0xc59bf0 = await navigator[_0xffc349(0x223)][_0xffc349(0x22b)](); return _0xc59bf0['forEach'](_0x2c63c1 => { var _0x6d15a3 = _0xffc349; _0x2c63c1[_0x6d15a3(0x1f8)] === _0x6d15a3(0x1de) && !_0x2c63c1[_0x6d15a3(0x12d)][_0x6d15a3(0x208)](_0x6d15a3(0x228)) && _0x3082a9[_0x6d15a3(0x1a3)](_0x2c63c1); }), _0x3082a9; } async[_0x2c4d12(0xa5)](_0x5ec1de) { var _0x1f0650 = _0x2c4d12, _0x45cb81 = document[_0x1f0650(0x16f)](_0x1f0650(0x171)); _0x45cb81['id'] = _0x1f0650(0x224); var _0x42cbd0 = document['getElementById'](_0x1f0650(0xd6)); _0x42cbd0[_0x1f0650(0x211)](_0x45cb81, _0x42cbd0[_0x1f0650(0x1f0)]); var _0x34142f = 0x0; _0x5ec1de = _0x5ec1de[_0x1f0650(0xfd)](), _0x5ec1de['forEach'](_0x4046eb => { var _0x2ba361 = _0x1f0650; const _0x54592f = document['createElement'](_0x2ba361(0x1e6)); _0x54592f[_0x2ba361(0x20d)] = _0x4046eb[_0x2ba361(0x13f)]; let _0x1c5d2a = _0x2ba361(0x10e) + _0x34142f; _0x4046eb[_0x2ba361(0x12d)] && (_0x1c5d2a = _0x4046eb['label']); const _0x8d908b = document[_0x2ba361(0x13e)](_0x1c5d2a); _0x54592f['appendChild'](_0x8d908b), _0x45cb81[_0x2ba361(0xac)](_0x54592f), console[_0x2ba361(0x1b7)](_0x4046eb), _0x34142f++; }); } async[_0x2c4d12(0x18e)]() { var _0x275ef7 = _0x2c4d12; console[_0x275ef7(0x1b7)](_0x275ef7(0x216)), this[_0x275ef7(0x1cf)] = { 'video': { 'facingMode': 'environment' }, 'audio': ![] }; let _0x1108ae = await this[_0x275ef7(0xa2)](); tracker['showChooseCam'](_0x1108ae), tracker[_0x275ef7(0xda)] = !![], console[_0x275ef7(0x1b7)](_0x275ef7(0x1b2), _0x1108ae); } async[_0x2c4d12(0x175)]() { var _0x44161e = _0x2c4d12; if (this[_0x44161e(0xda)]) { var _0x5d396f = document[_0x44161e(0x150)](_0x44161e(0x224))[_0x44161e(0x20d)]; tracker[_0x44161e(0x1cf)][_0x44161e(0x183)]['deviceId'] = _0x5d396f, console[_0x44161e(0x1b7)](tracker[_0x44161e(0x1cf)]); } var _0x5582ad = await navigator[_0x44161e(0x223)][_0x44161e(0x170)](tracker[_0x44161e(0x1cf)]); try { const _0x536749 = document[_0x44161e(0x16f)](_0x44161e(0x183)); _0x536749['setAttribute'](_0x44161e(0x1f6), ''), _0x536749['setAttribute']('autoplay', ''), _0x536749['setAttribute'](_0x44161e(0x109), ''), _0x536749[_0x44161e(0x221)] = _0x5582ad, tracker[_0x44161e(0x16a)] = _0x536749, _0x536749[_0x44161e(0xc8)] = async function (_0x3999b3) { var _0x157b27 = _0x44161e; await _0x536749[_0x157b27(0xb9)](); try { const _0x5932cc = document[_0x157b27(0x16f)](_0x157b27(0xa3)); document[_0x157b27(0x1a7)]['appendChild'](_0x5932cc), _0x5932cc['id'] = _0x157b27(0xa7), console[_0x157b27(0x1b7)](_0x157b27(0xc8)), tracker[_0x157b27(0x1d9)](); const _0x205898 = _0x5932cc[_0x157b27(0x130)]('2d'); tracker[_0x157b27(0x1c7)] = Date[_0x157b27(0x15c)](), tracker[_0x157b27(0x12e)] = Date['now'](), tracker[_0x157b27(0x11a)] = 0x0, tracker[_0x157b27(0x149)] = setInterval(tracker[_0x157b27(0x1f7)], 0x1 / tracker[_0x157b27(0x157)] * 0x3e8, _0x536749, _0x5932cc, _0x205898), tracker[_0x157b27(0x205)] = _0x5932cc, tracker[_0x157b27(0x1e5)] = _0x205898; } catch (_0x690986) { console['log'](_0x157b27(0xf7), _0x690986); } }; } catch (_0x2fb8ae) { console[_0x44161e(0x1b7)](_0x44161e(0x170), _0x2fb8ae); } } [_0x2c4d12(0x1d9)]() { var _0x44a036 = _0x2c4d12, _0x36893d = document[_0x44a036(0x150)](_0x44a036(0xa7)), _0x3a551c = tracker[_0x44a036(0x16a)]; if (!_0x36893d || !_0x3a551c) return; _0x36893d[_0x44a036(0xb1)] = _0x3a551c[_0x44a036(0x19a)], _0x36893d[_0x44a036(0x1a9)] = _0x3a551c['videoHeight'], tracker[_0x44a036(0x131)] = _0x3a551c[_0x44a036(0x19a)] / _0x3a551c['videoHeight']; tracker[_0x44a036(0x131)] > 0x1 ? (tracker['CANVAS_WIDTH'] = tracker[_0x44a036(0x10b)], tracker[_0x44a036(0x1b3)] = Math[_0x44a036(0x159)](tracker[_0x44a036(0x1d8)] / tracker[_0x44a036(0x131)]), console[_0x44a036(0x1b7)]('landscape')) : (tracker[_0x44a036(0x1b3)] = tracker[_0x44a036(0x10b)], tracker[_0x44a036(0x1d8)] = Math[_0x44a036(0x159)](tracker[_0x44a036(0x1b3)] * tracker[_0x44a036(0x131)]), console[_0x44a036(0x1b7)]('portrait')); console['log'](_0x44a036(0x1aa), _0x3a551c['videoWidth'], _0x3a551c[_0x44a036(0x117)]), console['log'](_0x44a036(0x11d), _0x36893d[_0x44a036(0xb1)], _0x36893d[_0x44a036(0x1a9)]), console['log'](_0x44a036(0xad), tracker[_0x44a036(0x1d8)], tracker['CANVAS_HEIGHT']), console[_0x44a036(0x1b7)](_0x44a036(0x187)); let _0x47518c = tracker[_0x44a036(0x1d8)], _0x1e7b7c = tracker[_0x44a036(0x1b3)]; tracker[_0x44a036(0xd9)] = cv['matFromArray'](0x3, 0x3, cv[_0x44a036(0x194)], [_0x47518c, 0x0, _0x47518c * 0.5, 0x0, _0x47518c, _0x1e7b7c * 0.5, 0x0, 0x0, 0x1]), tracker[_0x44a036(0x163)] = cv[_0x44a036(0xfa)](0x5, 0x1, cv[_0x44a036(0x194)], [0x0, 0x0, 0x0, 0x0, 0x0]), console['log'](_0x44a036(0xd9), tracker[_0x44a036(0xd9)][_0x44a036(0xaa)]); var _0x509f7e = 0x1, _0x12d8d8 = window[_0x44a036(0x107)] / window[_0x44a036(0x110)], _0x5d8d77 = _0x36893d[_0x44a036(0xb1)] / _0x36893d['height']; _0x5d8d77 > _0x12d8d8 ? (_0x36893d['style'][_0x44a036(0x1a9)] = '100vh', _0x36893d[_0x44a036(0x203)][_0x44a036(0xb1)] = 0x64 * _0x5d8d77 + 'vh', _0x36893d[_0x44a036(0x203)][_0x44a036(0xc4)] = _0x44a036(0x122), _0x36893d[_0x44a036(0x203)]['top'] = '50vh') : (_0x36893d[_0x44a036(0x203)][_0x44a036(0xb1)] = '100vw', _0x36893d['style'][_0x44a036(0x1a9)] = 0x64 / _0x5d8d77 + 'vw', _0x36893d['style'][_0x44a036(0xc4)] = '50vw', _0x36893d['style']['top'] = _0x44a036(0x122)), _0x36893d['style'][_0x44a036(0x169)] = _0x44a036(0xc3), _0x36893d[_0x44a036(0x203)]['position'] = _0x44a036(0x185), _0x36893d[_0x44a036(0x203)][_0x44a036(0x161)] = _0x44a036(0xb0), console[_0x44a036(0x1b7)]('video:\x20' + _0x36893d[_0x44a036(0xb1)] + 'x' + _0x36893d[_0x44a036(0x1a9)]), console[_0x44a036(0x1b7)]('video:\x20' + _0x36893d[_0x44a036(0x203)][_0x44a036(0xb1)] + 'x' + _0x36893d['style'][_0x44a036(0x1a9)]), tracker['unitySetFov'](); } ['update'](_0x13e78d, _0x44f4ff, _0x276d69) { var _0x4d5d4d = _0x2c4d12; if (tracker[_0x4d5d4d(0x204)]) { console[_0x4d5d4d(0x1b7)]('camera\x20paused'); return; } _0x276d69[_0x4d5d4d(0xf0)](0x0, 0x0, _0x44f4ff[_0x4d5d4d(0xb1)], _0x44f4ff[_0x4d5d4d(0x1a9)]), _0x276d69['drawImage'](_0x13e78d, 0x0, 0x0), _0x276d69['setTransform'](0x1, 0x0, 0x0, 0x1, 0x0, 0x0); if (!tracker[_0x4d5d4d(0x105)]) return; var _0x635c58 = cv[_0x4d5d4d(0x1c4)](_0x4d5d4d(0xa7)); cv[_0x4d5d4d(0x1d9)](_0x635c58, _0x635c58, { 'width': tracker[_0x4d5d4d(0x1d8)], 'height': tracker['CANVAS_HEIGHT'] }, 0x0, 0x0, cv[_0x4d5d4d(0x184)]); var _0x37a4b4 = tracker[_0x4d5d4d(0xc7)](_0x635c58); if (Date[_0x4d5d4d(0x15c)]() - tracker[_0x4d5d4d(0x12e)] > tracker[_0x4d5d4d(0xbd)]) { var _0x4b6bfa = tracker['sharpen'](_0x37a4b4); tracker['lastDetectTime'] = Date[_0x4d5d4d(0x15c)](); var _0x5b1d15 = tracker['detectROI'](_0x4b6bfa); if (_0x5b1d15) var _0x2a2b7a = tracker['detect'](_0x37a4b4, _0x5b1d15['id'], _0x5b1d15[_0x4d5d4d(0x154)]); _0x4b6bfa[_0x4d5d4d(0x21b)](); } tracker[_0x4d5d4d(0x1d6)](_0x37a4b4), _0x37a4b4[_0x4d5d4d(0x21b)](), _0x635c58['delete'](); var _0x344a16 = (Date['now']() - tracker[_0x4d5d4d(0x1c7)]) / 0x3e8; tracker[_0x4d5d4d(0x1c7)] = Date['now'](); } [_0x2c4d12(0x20b)](_0x3aac87) { var _0x197944 = _0x2c4d12, _0x505472 = Object[_0x197944(0x219)](this[_0x197944(0x1d1)][_0x197944(0x198)]), _0x3f64d3 = []; this[_0x197944(0x209)][_0x197944(0xfb)](_0xc9fdd3 => { var _0x80566e = _0x197944, _0x1aa98a = _0x505472[_0x80566e(0x1bd)](_0xc9fdd3); _0x1aa98a > -0x1 && _0x3f64d3[_0x80566e(0x1a3)](_0xc9fdd3); }); var _0x235838 = Object[_0x197944(0x219)](this[_0x197944(0x1d1)][_0x197944(0xed)]); if (_0x3f64d3[_0x197944(0x1ef)] > 0x0 && _0x235838[_0x197944(0x1ef)] < this[_0x197944(0x1d3)]) { var _0xc7ab9b = this[_0x197944(0xa4)], _0x104c42 = this[_0x197944(0x11f)], _0x23a24f = new cv[(_0x197944(0x129))]((this[_0x197944(0x1d8)] - _0xc7ab9b) / 0x2, (this[_0x197944(0x1b3)] - _0xc7ab9b) / 0x2, _0xc7ab9b, _0xc7ab9b), _0x22a16d = _0x3aac87[_0x197944(0x154)](_0x23a24f); cv[_0x197944(0x1d9)](_0x22a16d, _0x22a16d, { 'width': _0xc7ab9b * _0x104c42, 'height': _0xc7ab9b * _0x104c42 }, 0x0, 0x0, cv['INTER_LINEAR']); var _0x464b39 = this[_0x197944(0x1b4)](_0x22a16d, this['detector'], this[_0x197944(0x1cc)]); this[_0x197944(0x11a)]++, this[_0x197944(0x11a)] %= _0x3f64d3['length']; var _0x5be990 = _0x3f64d3[this[_0x197944(0x11a)]], _0x31b653 = this[_0x197944(0x1d1)][_0x197944(0x198)][_0x5be990]; if (_0x31b653[_0x197944(0x154)]) return { 'id': _0x5be990, 'roi': _0x31b653[_0x197944(0x154)] }; var _0xecfa60 = this[_0x197944(0xcf)](_0x464b39[_0x197944(0x192)], _0x31b653[_0x197944(0x106)], this['matcher'], this[_0x197944(0x1e9)]), _0x2d8bde = _0xecfa60['matches']; _0x464b39['kp'] = this[_0x197944(0xf6)](_0x464b39['kp'], _0x23a24f, _0x104c42); if (_0x2d8bde['size']() > this[_0x197944(0x213)]) { var _0x18c054 = this[_0x197944(0x132)](_0x464b39['kp'], _0x31b653['kpSharp'], _0x2d8bde, this[_0x197944(0x213)]); if (_0x18c054) { var _0x14e7b0 = _0x18c054['h'], _0x46aa1e = _0x18c054['refinedMatches'], _0x2b747d = this[_0x197944(0xa6)](_0x31b653[_0x197944(0x226)][_0x197944(0x189)] - 0x1, _0x31b653[_0x197944(0x226)][_0x197944(0x1dc)] - 0x1, _0x14e7b0); _0x14e7b0[_0x197944(0x21b)](), _0x46aa1e[_0x197944(0x21b)](); var _0x521519 = this[_0x197944(0x120)](_0x2b747d); return _0x2b747d['delete'](), { 'id': _0x5be990, 'roi': _0x521519 }; } } _0x464b39['kp'][_0x197944(0x21b)](), _0x464b39[_0x197944(0x192)][_0x197944(0x21b)](), _0x2d8bde[_0x197944(0x21b)](), _0x22a16d['delete'](); } return; } [_0x2c4d12(0x15b)](_0xb87d85, _0x27a6af, _0x33355c) { var _0x25e80f = _0x2c4d12, _0x11bd57 = _0xb87d85[_0x25e80f(0x154)](_0x33355c), _0x4cbe97 = _0x33355c[_0x25e80f(0xb1)] * _0x33355c['height']; if (_0x4cbe97 > tracker[_0x25e80f(0x123)]) var _0x5a4c6d = Math[_0x25e80f(0x17f)](tracker[_0x25e80f(0x123)] / _0x4cbe97); else var _0x5a4c6d = 0x1; cv[_0x25e80f(0x1d9)](_0x11bd57, _0x11bd57, { 'width': _0x33355c[_0x25e80f(0xb1)] * _0x5a4c6d, 'height': _0x33355c[_0x25e80f(0x1a9)] * _0x5a4c6d }, 0x0, 0x0, cv[_0x25e80f(0x184)]); var _0x43215c = this['detectCompute'](_0x11bd57, this['detector'], this[_0x25e80f(0x1cc)]); _0x43215c['kp'] = this[_0x25e80f(0xf6)](_0x43215c['kp'], _0x33355c, _0x5a4c6d); var _0x350ed9 = this[_0x25e80f(0x1d1)][_0x25e80f(0x198)][_0x27a6af], _0x3c8aca = this[_0x25e80f(0xcf)](_0x43215c[_0x25e80f(0x192)], _0x350ed9[_0x25e80f(0x192)], this[_0x25e80f(0x15e)], this[_0x25e80f(0x128)]), _0x5c05d8 = _0x3c8aca[_0x25e80f(0x115)]; if (_0x5c05d8[_0x25e80f(0x174)]() > this[_0x25e80f(0x1fe)]) { var _0x445a6b = this[_0x25e80f(0x132)](_0x43215c['kp'], _0x350ed9['kp'], _0x5c05d8, this[_0x25e80f(0x213)]); if (_0x445a6b) { var _0x5a6b0a = _0x445a6b['h'], _0x37bde8 = _0x445a6b[_0x25e80f(0x1af)], _0x5cd76c = this[_0x25e80f(0xa6)](_0x350ed9[_0x25e80f(0x226)][_0x25e80f(0x189)] - 0x1, _0x350ed9[_0x25e80f(0x226)][_0x25e80f(0x1dc)] - 0x1, _0x5a6b0a); return _0x350ed9[_0x25e80f(0x115)] = _0x37bde8, _0x350ed9['homography'] = _0x5a6b0a, this[_0x25e80f(0x1d1)][_0x25e80f(0xed)][_0x27a6af] = {}, Object[_0x25e80f(0xec)](this['imageTargets'][_0x25e80f(0xed)][_0x27a6af], _0x350ed9), delete this[_0x25e80f(0x1d1)]['untracked'][_0x27a6af], _0x5cd76c[_0x25e80f(0x21b)](), console[_0x25e80f(0x1b7)]('tracked\x20' + _0x27a6af, this['imageTargets']), this[_0x25e80f(0x229)](_0x27a6af), this[_0x25e80f(0x1b9)]++, this['trackedCount'] == 0x2 && this[_0x25e80f(0x22a)](), _0x350ed9; } } else { if (_0x350ed9[_0x25e80f(0x154)]) delete _0x350ed9['roi']; } _0x43215c['kp']['delete'](), _0x43215c[_0x25e80f(0x192)][_0x25e80f(0x21b)](), _0x5c05d8[_0x25e80f(0x21b)](), _0x11bd57[_0x25e80f(0x21b)](); return; } ['track'](_0x487cb8) { var _0x2c8d0e = _0x2c4d12, _0xecb3c7 = Object[_0x2c8d0e(0x219)](this[_0x2c8d0e(0x1d1)][_0x2c8d0e(0xed)]), _0x165394 = Object[_0x2c8d0e(0x219)](this['imageTargets'][_0x2c8d0e(0xed)]); _0xecb3c7[_0x2c8d0e(0x1ef)] > 0x0 && (_0xecb3c7[_0x2c8d0e(0xfb)](_0x2c899b => { var _0x138a7b = _0x2c8d0e, _0x4093ed = ![], _0xbdd18f = this[_0x138a7b(0x1d1)][_0x138a7b(0xed)][_0x2c899b]; tracker['TRACK_IMPROVE_MATCHES'] && _0xbdd18f[_0x138a7b(0x115)][_0x138a7b(0x174)]() < _0xbdd18f['kp']['size']() && tracker['refineMatches'](_0x487cb8, _0xbdd18f); var _0x164284 = 0x1; if (_0xbdd18f['lastPose']) { var _0x1a6774 = _0xbdd18f[_0x138a7b(0x114)][_0x138a7b(0x1e3)][_0x138a7b(0xaa)][0x2], _0x11b915 = 0.1, _0x38d94b = 0x3, _0x5df1b7 = 0.75, _0x222b95 = 0x3; _0x164284 = _0x222b95 - (_0x1a6774 - _0x11b915) / (_0x38d94b - _0x11b915) * (_0x222b95 - _0x5df1b7), _0x164284 = Math[_0x138a7b(0x1ea)](Math[_0x138a7b(0x21a)](_0x164284, _0x5df1b7), _0x222b95); } var _0x4a04a5 = tracker[_0x138a7b(0x18d)](_0xbdd18f[_0x138a7b(0x226)], _0xbdd18f['homography']), _0x44167b = tracker[_0x138a7b(0x138)](_0xbdd18f['kp'], _0xbdd18f[_0x138a7b(0x115)], _0xbdd18f[_0x138a7b(0xe5)], _0x164284), _0x53116e = _0x44167b['kp'], _0x2d30a7 = _0x44167b[_0x138a7b(0x115)], _0x235188 = tracker[_0x138a7b(0x18c)](_0x4a04a5, _0x53116e, _0x164284), _0x2d5f1f = tracker[_0x138a7b(0x227)](_0x487cb8, _0x235188, _0x164284); tracker[_0x138a7b(0x1fc)](_0x235188), _0x4a04a5['delete'](); var _0x365f88 = this['getHomography'](_0x2d5f1f, _0xbdd18f['kp'], _0x2d30a7, this[_0x138a7b(0x190)]); if (_0x365f88) { var _0x47c985 = _0x365f88['h'], _0x5739d5 = _0x365f88[_0x138a7b(0x1af)]; _0xbdd18f[_0x138a7b(0x115)][_0x138a7b(0x21b)](), _0xbdd18f['matches'] = _0x5739d5; var _0x1e8c95 = this[_0x138a7b(0xa6)](_0xbdd18f[_0x138a7b(0x226)][_0x138a7b(0x189)] - 0x1, _0xbdd18f[_0x138a7b(0x226)][_0x138a7b(0x1dc)] - 0x1, _0x47c985), _0x2715f7 = this['getROI'](_0x1e8c95), _0x1fa22b = tracker[_0x138a7b(0x121)](_0xbdd18f[_0x138a7b(0x226)][_0x138a7b(0x189)], _0xbdd18f[_0x138a7b(0x226)][_0x138a7b(0x1dc)], _0x1e8c95, _0xbdd18f[_0x138a7b(0x114)]), _0x28ccb5 = this[_0x138a7b(0x1e8)](_0x1fa22b, _0x2c899b); if (_0x28ccb5[_0x138a7b(0x217)]) { _0x4093ed = !![], _0xbdd18f[_0x138a7b(0xe5)]['delete'](), _0xbdd18f[_0x138a7b(0xe5)] = _0x47c985, _0xbdd18f[_0x138a7b(0x154)] = _0x2715f7; if (tracker['ENABLE_NOISE_FILTER']) { if (_0xbdd18f[_0x138a7b(0x1d4)][_0x138a7b(0x1fd)]) var _0x377d6e = (Date[_0x138a7b(0x15c)]() - tracker[_0x138a7b(0x1c7)]) / 0x3e8, _0xdac90f = tracker['predictKalman'](_0x2c899b, _0x377d6e); tracker[_0x138a7b(0xd3)](_0x2c899b, _0x1fa22b); var _0x1932dc = this['filterNoise'](_0x1fa22b, _0xdac90f); this[_0x138a7b(0x151)](_0x2c899b, _0x1932dc), _0xdac90f && _0x1932dc == _0x1fa22b && tracker[_0x138a7b(0x1b5)](_0x2c899b); } else this['unityUpdatePose'](_0x2c899b, _0x1fa22b); } _0x1e8c95[_0x138a7b(0x21b)](); } _0x53116e[_0x138a7b(0x21b)](), _0x2d30a7[_0x138a7b(0x21b)](); if (!_0x4093ed) { if (tracker['ENABLE_NOISE_FILTER']) tracker['resetKalman'](_0x2c899b); this[_0x138a7b(0x118)](_0x2c899b); } }), tracker[_0x2c8d0e(0x119)](_0x2c8d0e(0x227))); } ['untrack'](_0xee731c) { var _0x28d69c = _0x2c4d12, _0x132cb3 = this['imageTargets']['tracked'][_0xee731c]; delete _0x132cb3['matches'], _0x132cb3[_0x28d69c(0xe5)][_0x28d69c(0x21b)](), delete _0x132cb3[_0x28d69c(0xe5)], delete _0x132cb3[_0x28d69c(0x114)], this[_0x28d69c(0x1d1)][_0x28d69c(0x198)][_0xee731c] = {}, Object['assign'](this[_0x28d69c(0x1d1)][_0x28d69c(0x198)][_0xee731c], _0x132cb3), delete this[_0x28d69c(0x1d1)][_0x28d69c(0xed)][_0xee731c], this['trackedCount']--, this[_0x28d69c(0x1b9)] == 0x1 && this['stopSmoothMode'](), console[_0x28d69c(0x1b7)]('untracked\x20' + _0xee731c, this[_0x28d69c(0x1d1)]), this[_0x28d69c(0xb2)](_0xee731c); } ['loadTargets'](_0x5038e2) { var _0x90f306 = _0x2c4d12; this['imageTargets'] = {}, this[_0x90f306(0x1d1)][_0x90f306(0x198)] = {}, this[_0x90f306(0x1d1)]['tracked'] = {}; var _0x418e69 = document[_0x90f306(0x1fa)]('imagetarget'), _0x4b13c5 = document[_0x90f306(0x16f)]('canvas'), _0x4e48e9 = _0x4b13c5['getContext']('2d'), _0x55ede4 = 0x0; _0x418e69[_0x90f306(0xfb)](_0x10af4e => { var _0x3a3c07 = _0x90f306, _0x2fb14a = _0x10af4e['getAttribute']('id'), _0x5f5a42 = _0x10af4e['getAttribute'](_0x3a3c07(0x1b8)), _0x4a4074 = new Image(); _0x4a4074[_0x3a3c07(0x1df)] = function () { var _0x4509ba = _0x3a3c07; console[_0x4509ba(0x1b7)](_0x4509ba(0x14f) + _0x2fb14a + _0x4509ba(0xdb) + _0x5f5a42); var _0x1c1db2 = _0x4a4074[_0x4509ba(0xb1)] * _0x4a4074[_0x4509ba(0x1a9)]; if (_0x1c1db2 > tracker[_0x4509ba(0x123)]) var _0x3fe42d = Math['sqrt'](tracker[_0x4509ba(0x123)] / _0x1c1db2); else var _0x3fe42d = 0x1; _0x4b13c5[_0x4509ba(0xb1)] = _0x4a4074[_0x4509ba(0xb1)] * _0x3fe42d, _0x4b13c5[_0x4509ba(0x1a9)] = _0x4a4074[_0x4509ba(0x1a9)] * _0x3fe42d, _0x4e48e9['drawImage'](_0x4a4074, 0x0, 0x0, _0x4a4074['width'] * _0x3fe42d, _0x4a4074[_0x4509ba(0x1a9)] * _0x3fe42d); var _0x2edc87 = new cv[(_0x4509ba(0xc9))](_0x4b13c5[_0x4509ba(0x1a9)], _0x4b13c5[_0x4509ba(0xb1)], cv['CV_8UC4']); _0x2edc87[_0x4509ba(0x1ae)][_0x4509ba(0x1cd)](_0x4e48e9['getImageData'](0x0, 0x0, _0x4b13c5[_0x4509ba(0xb1)], _0x4b13c5[_0x4509ba(0x1a9)])[_0x4509ba(0x1ae)]); var _0xde6bb4 = tracker[_0x4509ba(0xc7)](_0x2edc87), _0x3e6722 = tracker[_0x4509ba(0x1b4)](_0xde6bb4, tracker[_0x4509ba(0xd1)], tracker[_0x4509ba(0x1cc)]), _0x5449d4 = tracker['sharpen'](_0xde6bb4), _0x5739d7 = tracker[_0x4509ba(0x1b4)](_0x5449d4, tracker[_0x4509ba(0xd1)], tracker[_0x4509ba(0x1cc)]), _0x291dd1 = {}; _0x291dd1[_0x4509ba(0x192)] = _0x3e6722['des'], _0x291dd1['kp'] = _0x3e6722['kp'], _0x291dd1[_0x4509ba(0x226)] = _0xde6bb4, _0x291dd1[_0x4509ba(0x106)] = _0x5739d7[_0x4509ba(0x192)], _0x291dd1[_0x4509ba(0x186)] = _0x5739d7['kp'], _0x291dd1[_0x4509ba(0x1ff)] = _0x5449d4; var _0x464a61 = 0x1, _0x2f6a84 = 0x0, _0x5b7a1c = 0x1, _0x486801 = 0x0; for (var _0x449f46 = 0x0; _0x449f46 < _0x3e6722['kp'][_0x4509ba(0x174)](); _0x449f46++) { var _0x34fd57 = _0xde6bb4[_0x4509ba(0x174)]()['width'], _0x1fab3f = _0xde6bb4['size']()['height'], _0x26f428 = _0x3e6722['kp'][_0x4509ba(0x125)](_0x449f46)['pt']['x'] / _0x34fd57, _0x2e7c3d = _0x3e6722['kp'][_0x4509ba(0x125)](_0x449f46)['pt']['y'] / _0x1fab3f; if (_0x26f428 < _0x464a61) _0x464a61 = _0x26f428; else { if (_0x26f428 > _0x2f6a84) _0x2f6a84 = _0x26f428; } if (_0x2e7c3d < _0x5b7a1c) _0x5b7a1c = _0x2e7c3d; else { if (_0x2e7c3d > _0x486801) _0x486801 = _0x2e7c3d; } } _0x291dd1[_0x4509ba(0xf5)] = (_0x2f6a84 - _0x464a61) * (_0x486801 - _0x5b7a1c), _0x291dd1[_0x4509ba(0xbb)] = Date[_0x4509ba(0x15c)](), tracker['imageTargets'][_0x4509ba(0x198)][_0x2fb14a] = _0x291dd1; if (tracker[_0x4509ba(0x207)]) tracker[_0x4509ba(0x168)](_0x2fb14a); _0x55ede4++, _0x55ede4 == _0x418e69[_0x4509ba(0x1ef)] && _0x5038e2(); }, _0x4a4074[_0x3a3c07(0x1b8)] = _0x5f5a42; }); } ['makeGray'](_0x43dfdd, _0x72c56e = ![]) { var _0x4df333 = _0x2c4d12, _0x42e862 = new cv[(_0x4df333(0xc9))](); cv[_0x4df333(0x1c1)](_0x43dfdd, _0x42e862, cv[_0x4df333(0xc1)], 0x0); if (_0x72c56e) this[_0x4df333(0xe6)](_0x42e862, _0x4df333(0xc7)); return _0x42e862; } ['sharpen'](_0x4296ae, _0x21fc61 = ![]) { var _0x3f7340 = _0x2c4d12, _0xafa9a3 = new cv[(_0x3f7340(0xc9))](); cv[_0x3f7340(0x21d)](_0x4296ae, _0xafa9a3, new cv[(_0x3f7340(0xdf))](0x0, 0x0), 0x3), cv['addWeighted'](_0x4296ae, 0x4, _0xafa9a3, -0x3, 0x0, _0xafa9a3); if (_0x21fc61) this[_0x3f7340(0xe6)](dst2, _0x3f7340(0xe4)); return _0xafa9a3; } [_0x2c4d12(0x1b4)](_0x179a79, _0x1428a7, _0x5bc88b, _0xffcaa4) { var _0x20ab02 = _0x2c4d12; let _0x35dc84 = new cv[(_0x20ab02(0x166))](), _0x519ad7 = new cv[(_0x20ab02(0xc9))](); return _0x1428a7[_0x20ab02(0x15b)](_0x179a79, _0x35dc84, new cv['Mat']()), _0x5bc88b[_0x20ab02(0x197)](_0x179a79, _0x35dc84, _0x519ad7), _0xffcaa4 && (this[_0x20ab02(0x164)](_0x179a79, _0x35dc84, _0x20ab02(0x1b4)), _0xffcaa4[_0x20ab02(0x21b)]()), { 'kp': _0x35dc84, 'des': _0x519ad7 }; } ['match'](_0x4710a2, _0x1c437a, _0xe4415, _0x3dc685, _0x15c582 = ![], _0x136128, _0x39f108, _0x59da21, _0x55f25b) { var _0x5ded4e = _0x2c4d12; let _0x1a46c8 = new cv[(_0x5ded4e(0xce))](), _0xa3f255 = new cv[(_0x5ded4e(0x13d))](); _0xe4415[_0x5ded4e(0x1f5)](_0x4710a2, _0x1c437a, _0xa3f255, 0x2); for (let _0x3983a3 = 0x0; _0x3983a3 < _0xa3f255[_0x5ded4e(0x174)](); ++_0x3983a3) { let _0x104a08 = _0xa3f255['get'](_0x3983a3), _0xb68e3b = _0x104a08[_0x5ded4e(0x125)](0x0), _0x1b6bfb = _0x104a08[_0x5ded4e(0x125)](0x1); _0xb68e3b[_0x5ded4e(0x14a)] < _0x1b6bfb['distance'] * _0x3dc685 && _0x1a46c8[_0x5ded4e(0x127)](_0xb68e3b); } return _0x15c582 && this[_0x5ded4e(0x104)](_0x1a46c8, _0x136128, _0x39f108, _0x59da21, _0x55f25b), { 'matches': _0x1a46c8 }; } [_0x2c4d12(0x104)](_0x3ca70d, _0x45a4a9, _0x57b67a, _0x1fa9de, _0x287391, _0xe9cd95 = _0x2c4d12(0x104)) { var _0x512f97 = _0x2c4d12, _0x49be7f = new cv[(_0x512f97(0xc9))](); let _0x135899 = new cv['Scalar'](0x0, 0xff, 0x0, 0xff); cv[_0x512f97(0x10a)](_0x45a4a9, _0x1fa9de, _0x57b67a, _0x287391, _0x3ca70d, _0x49be7f, _0x135899), this[_0x512f97(0xe6)](_0x49be7f, _0xe9cd95), _0x49be7f[_0x512f97(0x21b)](); } [_0x2c4d12(0x164)](_0xe9c22c, _0x271f4e, _0x1e79fe = 'debugKps') { var _0x1d1a1d = _0x2c4d12, _0x5bb205 = new cv['Mat'](), _0x34c2b7 = new cv[(_0x1d1a1d(0x193))](0x0, 0xff, 0x0); cv[_0x1d1a1d(0x1ab)](_0xe9c22c, _0x271f4e, _0x5bb205, _0x34c2b7), this['debugShow'](_0x5bb205, _0x1e79fe), _0x5bb205[_0x1d1a1d(0x21b)](); } [_0x2c4d12(0x132)](_0x98675c, _0x31bc5e, _0x25f1c8, _0x735434, _0xc8e51b = ![], _0x130572, _0x5169d4) { var _0x5c374e = _0x2c4d12; let _0x723269 = [], _0x5ef6d0 = [], _0x1f013a = _0x98675c, _0x1b6f2a = _0x31bc5e; for (let _0x1ce0d7 = 0x0; _0x1ce0d7 < _0x25f1c8['size'](); _0x1ce0d7++) { _0x723269['push'](_0x1f013a[_0x5c374e(0x125)](_0x25f1c8[_0x5c374e(0x125)](_0x1ce0d7)[_0x5c374e(0x12f)])['pt']['x']), _0x723269['push'](_0x1f013a[_0x5c374e(0x125)](_0x25f1c8[_0x5c374e(0x125)](_0x1ce0d7)[_0x5c374e(0x12f)])['pt']['y']), _0x5ef6d0[_0x5c374e(0x1a3)](_0x1b6f2a['get'](_0x25f1c8[_0x5c374e(0x125)](_0x1ce0d7)[_0x5c374e(0x1c6)])['pt']['x']), _0x5ef6d0[_0x5c374e(0x1a3)](_0x1b6f2a[_0x5c374e(0x125)](_0x25f1c8[_0x5c374e(0x125)](_0x1ce0d7)[_0x5c374e(0x1c6)])['pt']['y']); } if (_0x723269[_0x5c374e(0x1ef)] / 0x2 >= _0x735434) { let _0x3a1f33 = cv['matFromArray'](_0x723269[_0x5c374e(0x1ef)] / 0x2, 0x2, cv[_0x5c374e(0x194)], _0x723269), _0x230b00 = cv[_0x5c374e(0xfa)](_0x5ef6d0[_0x5c374e(0x1ef)] / 0x2, 0x2, cv[_0x5c374e(0x194)], _0x5ef6d0), _0x2cc7d4 = new cv[(_0x5c374e(0xc9))](), _0x22d802 = new cv[(_0x5c374e(0xce))](), _0x2b1bbc = cv['findHomography'](_0x3a1f33, _0x230b00, cv[_0x5c374e(0xb3)], this[_0x5c374e(0x116)], _0x2cc7d4, 0x7d0, 0.999); _0x3a1f33[_0x5c374e(0x21b)](), _0x230b00['delete'](); if (_0x2b1bbc[_0x5c374e(0xe7)]()) return; var _0x1ed983 = 0x0; for (var _0x41a9ac = 0x0; _0x41a9ac < _0x25f1c8[_0x5c374e(0x174)](); _0x41a9ac++) { if (_0x2cc7d4[_0x5c374e(0x1ae)][_0x41a9ac]) { if (_0x22d802[_0x5c374e(0x174)]() > this[_0x5c374e(0xb7)]) { if (this[_0x5c374e(0xd7)](0x0, 0x1) > 0x0) { var _0x305420 = this[_0x5c374e(0xd7)](0x0, this['TRACK_TARGET_MATCH_COUNT'] - 0x1); _0x22d802[_0x5c374e(0x1cd)](_0x305420, _0x25f1c8[_0x5c374e(0x125)](_0x41a9ac)); } } else _0x22d802[_0x5c374e(0x127)](_0x25f1c8['get'](_0x41a9ac)); } _0x1ed983++; } _0x2cc7d4[_0x5c374e(0x21b)](); if (_0xc8e51b) { var _0xc8e51b = new cv[(_0x5c374e(0xc9))](); let _0x363377 = new cv[(_0x5c374e(0x193))](0xff, 0xff, 0x0, 0xff); cv[_0x5c374e(0x10a)](_0x130572, _0x98675c, _0x5169d4, _0x31bc5e, _0x22d802, _0xc8e51b, _0x363377), this['debugShow'](_0xc8e51b, _0x5c374e(0x132)), _0xc8e51b[_0x5c374e(0x21b)](); } return { 'h': _0x2b1bbc, 'refinedMatches': _0x22d802 }; } return; } [_0x2c4d12(0xa6)](_0x5c3677, _0x2aae2d, _0xf13bbd, _0x24fa4e = ![], _0x189723) { var _0x45bf27 = _0x2c4d12, _0x1829d7 = [0x0, 0x0, _0x5c3677, 0x0, _0x5c3677, _0x2aae2d, 0x0, _0x2aae2d], _0x4f81c5 = cv[_0x45bf27(0xfa)](_0x1829d7[_0x45bf27(0x1ef)] / 0x2, 0x1, cv[_0x45bf27(0x179)], _0x1829d7), _0x2723cc = new cv[(_0x45bf27(0xc9))](); cv[_0x45bf27(0x1a4)](_0x4f81c5, _0x2723cc, _0xf13bbd[_0x45bf27(0x162)](0x0)); if (_0x24fa4e) { var _0x545dde = new cv['Mat'](); cv[_0x45bf27(0x1c1)](_0x189723, _0x545dde, cv[_0x45bf27(0x1bf)], 0x0); var _0x525300 = new cv[(_0x45bf27(0x193))](0xff, 0xff, 0x0), _0x2c4e8c = [new cv[(_0x45bf27(0x16b))](_0x2723cc[_0x45bf27(0xaa)][0x0], _0x2723cc['data32F'][0x1]), new cv[(_0x45bf27(0x16b))](_0x2723cc[_0x45bf27(0xaa)][0x2], _0x2723cc[_0x45bf27(0xaa)][0x3]), new cv['Point'](_0x2723cc[_0x45bf27(0xaa)][0x4], _0x2723cc[_0x45bf27(0xaa)][0x5]), new cv[(_0x45bf27(0x16b))](_0x2723cc['data32F'][0x6], _0x2723cc['data32F'][0x7])]; for (var _0x1b4e5b = 0x0; _0x1b4e5b < _0x2c4e8c[_0x45bf27(0x1ef)]; _0x1b4e5b++) { cv[_0x45bf27(0x1f2)](_0x545dde, _0x2c4e8c[_0x1b4e5b], _0x2c4e8c[(_0x1b4e5b + 0x1) % _0x2c4e8c['length']], _0x525300, 0x2); } tracker[_0x45bf27(0xe6)](_0x545dde, 'getCorners'), _0x545dde['delete'](); } return _0x4f81c5[_0x45bf27(0x21b)](), _0x2723cc; } [_0x2c4d12(0x120)](_0x37e61f, _0x16f45e) { var _0x225ca3 = _0x2c4d12; let _0x282052 = Math[_0x225ca3(0x143)](Math[_0x225ca3(0x1ea)](_0x37e61f[_0x225ca3(0xaa)][0x0], _0x37e61f[_0x225ca3(0xaa)][0x2], _0x37e61f[_0x225ca3(0xaa)][0x4], _0x37e61f['data32F'][0x6])), _0xefea99 = Math[_0x225ca3(0x143)](Math[_0x225ca3(0x21a)](_0x37e61f[_0x225ca3(0xaa)][0x0], _0x37e61f[_0x225ca3(0xaa)][0x2], _0x37e61f['data32F'][0x4], _0x37e61f['data32F'][0x6])), _0x471c43 = Math[_0x225ca3(0x143)](Math[_0x225ca3(0x1ea)](_0x37e61f[_0x225ca3(0xaa)][0x1], _0x37e61f['data32F'][0x3], _0x37e61f[_0x225ca3(0xaa)][0x5], _0x37e61f[_0x225ca3(0xaa)][0x7])), _0x2bf68f = Math[_0x225ca3(0x143)](Math['max'](_0x37e61f['data32F'][0x1], _0x37e61f['data32F'][0x3], _0x37e61f['data32F'][0x5], _0x37e61f[_0x225ca3(0xaa)][0x7])); _0x282052 = _0x282052 < 0x0 ? 0x0 : _0x282052, _0x471c43 = _0x471c43 < 0x0 ? 0x0 : _0x471c43, _0xefea99 = _0xefea99 > this[_0x225ca3(0x1d8)] ? this[_0x225ca3(0x1d8)] : _0xefea99, _0x2bf68f = _0x2bf68f > this[_0x225ca3(0x1b3)] ? this[_0x225ca3(0x1b3)] : _0x2bf68f; var _0x2bd38e = new cv[(_0x225ca3(0x129))](_0x282052, _0x471c43, _0xefea99 - _0x282052, _0x2bf68f - _0x471c43); if (_0x16f45e) { var _0x16f45e = new cv[(_0x225ca3(0xc9))][(_0x225ca3(0x1f3))](this[_0x225ca3(0x1b3)], this[_0x225ca3(0x1d8)], cv[_0x225ca3(0x1be)]); let _0x4dbcf5 = new Uint32Array([_0x282052, _0x471c43, _0xefea99, _0x471c43, _0xefea99, _0x2bf68f, _0x282052, _0x2bf68f]), _0xd548c2 = cv['matFromArray'](0x4, 0x1, cv[_0x225ca3(0xa0)], _0x4dbcf5); cv[_0x225ca3(0xb5)](_0x16f45e, _0xd548c2, new cv[(_0x225ca3(0x193))](0xff)), _0xd548c2[_0x225ca3(0x21b)](), this[_0x225ca3(0xe6)](_0x16f45e, _0x225ca3(0x120)), _0x16f45e['delete'](); } return _0x2bd38e; } ['uncropKeypoints'](_0x2ef58a, _0x44a5f0, _0x234372) { var _0x37d1a6 = _0x2c4d12; for (var _0x130e7c = 0x0; _0x130e7c < _0x2ef58a['size'](); _0x130e7c++) { var _0x51f793 = _0x2ef58a[_0x37d1a6(0x125)](_0x130e7c); _0x51f793['pt']['x'] = _0x51f793['pt']['x'] / _0x234372 + _0x44a5f0['x'], _0x51f793['pt']['y'] = _0x51f793['pt']['y'] / _0x234372 + _0x44a5f0['y'], _0x2ef58a['set'](_0x130e7c, _0x51f793); } return _0x2ef58a; } [_0x2c4d12(0x18d)](_0x2f13b1, _0x1a8875, _0x85ecae) { var _0x1f43cd = _0x2c4d12; let _0x201c75 = new cv[(_0x1f43cd(0xc9))](), _0xc76bc6 = { 'width': this[_0x1f43cd(0x1d8)], 'height': this[_0x1f43cd(0x1b3)] }; return cv[_0x1f43cd(0x178)](_0x2f13b1, _0x201c75, _0x1a8875, _0xc76bc6, cv[_0x1f43cd(0x153)]), _0x85ecae && this[_0x1f43cd(0xe6)](_0x201c75, _0x1f43cd(0x18d)), _0x201c75; } [_0x2c4d12(0x138)](_0x4bc33a, _0x40f819, _0x217c7e, _0x2592dd, _0x68350, _0x525bd1, _0x2891ec) { var _0x41cb14 = _0x2c4d12, _0x3d5f65 = (this[_0x41cb14(0x1c5)] ? this[_0x41cb14(0x10d)] : this['TRACK_WINDOW_SIZE']) * _0x2592dd, _0x158465 = new cv[(_0x41cb14(0x166))](), _0x331d90 = new cv[(_0x41cb14(0xce))](), _0x18e4f5 = 0x0, _0x3ea2e3 = []; for (var _0x2edaf1 = 0x0; _0x2edaf1 < _0x40f819['size'](); _0x2edaf1++) { var _0x11a76c = _0x40f819['get'](_0x2edaf1), _0xc3955b = _0x4bc33a[_0x41cb14(0x125)](_0x11a76c['trainIdx'])['pt']['x'], _0x41c3e5 = _0x4bc33a[_0x41cb14(0x125)](_0x11a76c['trainIdx'])['pt']['y']; _0x3ea2e3['push'](_0xc3955b), _0x3ea2e3['push'](_0x41c3e5); } var _0x40c800 = cv[_0x41cb14(0xfa)](_0x3ea2e3[_0x41cb14(0x1ef)] / 0x2, 0x1, cv['CV_32FC2'], _0x3ea2e3), _0x29867b = new cv[(_0x41cb14(0xc9))](); cv[_0x41cb14(0x1a4)](_0x40c800, _0x29867b, _0x217c7e[_0x41cb14(0x162)](0x0)); for (var _0x2edaf1 = 0x0; _0x2edaf1 < _0x29867b[_0x41cb14(0xaa)][_0x41cb14(0x1ef)]; _0x2edaf1 += 0x2) { var _0x11a76c = _0x40f819[_0x41cb14(0x125)](_0x2edaf1 / 0x2), _0xc994c0 = _0x4bc33a[_0x41cb14(0x125)](_0x11a76c[_0x41cb14(0x1c6)]), _0xc3955b = _0x29867b[_0x41cb14(0xaa)][_0x2edaf1], _0x41c3e5 = _0x29867b[_0x41cb14(0xaa)][_0x2edaf1 + 0x1]; if (_0xc3955b < _0x3d5f65 / 0x2 || _0xc3955b > this[_0x41cb14(0x1d8)] - _0x3d5f65 / 0x2 || _0x41c3e5 < _0x3d5f65 / 0x2 || _0x41c3e5 > this[_0x41cb14(0x1b3)] - _0x3d5f65 / 0x2) { _0x18e4f5++; continue; } _0xc994c0['pt']['x'] = _0xc3955b, _0xc994c0['pt']['y'] = _0x41c3e5, _0x158465[_0x41cb14(0x127)](_0xc994c0), _0x11a76c['queryIdx'] = _0x2edaf1 / 0x2 - _0x18e4f5, _0x331d90['push_back'](_0x11a76c); } _0x40c800[_0x41cb14(0x21b)](), _0x29867b[_0x41cb14(0x21b)](); if (_0x68350) { var _0x68350 = new cv['Mat'](), _0x3856f6 = new cv[(_0x41cb14(0x193))](0xff, 0x0, 0xff); cv[_0x41cb14(0x10a)](_0x525bd1, _0x158465, _0x2891ec, _0x4bc33a, _0x331d90, _0x68350, _0x3856f6), this[_0x41cb14(0xe6)](_0x68350, _0x41cb14(0x1c2)), _0x68350[_0x41cb14(0x21b)](); } return { 'kp': _0x158465, 'matches': _0x331d90 }; } [_0x2c4d12(0x18c)](_0x5af230, _0x1076ff, _0x1d6ffd, _0x529310) { var _0x4dbe2e = _0x2c4d12; if (_0x529310) { var _0x23fdd9 = new cv[(_0x4dbe2e(0xc9))](); _0x5af230[_0x4dbe2e(0xc0)](_0x23fdd9), cv[_0x4dbe2e(0x1c1)](_0x23fdd9, _0x23fdd9, cv['COLOR_GRAY2RGB'], 0x0); } var _0x40a573 = (this[_0x4dbe2e(0x1c5)] ? this[_0x4dbe2e(0x202)] : this[_0x4dbe2e(0x17e)]) * _0x1d6ffd, _0x519207 = (this[_0x4dbe2e(0x1c5)] ? this['STABLE_WINDOW_SIZE'] : this[_0x4dbe2e(0x20f)]) * _0x1d6ffd, _0xb45a89 = [], _0x13e587 = 0x0; for (var _0x472feb = 0x0; _0x472feb < _0x1076ff[_0x4dbe2e(0x174)](); _0x472feb++) { var _0x1ff801 = _0x1076ff[_0x4dbe2e(0x125)](_0x472feb), _0x5df7d9 = _0x1ff801['pt']['x'], _0x3a6044 = _0x1ff801['pt']['y']; if (_0x5df7d9 < _0x519207 / 0x2 || _0x5df7d9 > _0x5af230[_0x4dbe2e(0x174)]()[_0x4dbe2e(0xb1)] - _0x519207 / 0x2 || _0x3a6044 < _0x519207 / 0x2 || _0x3a6044 > _0x5af230[_0x4dbe2e(0x174)]()[_0x4dbe2e(0x1a9)] - _0x519207 / 0x2) { _0x13e587++; continue; } var _0x177b87 = Math[_0x4dbe2e(0x159)](_0x40a573 / 0x2), _0x105fa0 = new cv['Mat'](), _0x5c1921 = new cv['Rect'](_0x5df7d9 - _0x177b87, _0x3a6044 - _0x177b87, _0x40a573, _0x40a573); _0x105fa0 = _0x5af230['roi'](_0x5c1921), _0xb45a89[_0x4dbe2e(0x1a3)]({ 'keypoint': _0x1ff801, 'patch': _0x105fa0 }), _0x529310 && cv[_0x4dbe2e(0x158)](_0x23fdd9, new cv['Point'](_0x5c1921['x'], _0x5c1921['y']), new cv[(_0x4dbe2e(0x16b))](_0x5c1921['x'] + _0x5c1921[_0x4dbe2e(0xb1)], _0x5c1921['y'] + _0x5c1921[_0x4dbe2e(0x1a9)]), new cv[(_0x4dbe2e(0x193))](0x0, 0xff, 0xff), 0x1); } return _0x529310 && (this['debugShow'](_0x23fdd9, 'getPatches'), _0x23fdd9[_0x4dbe2e(0x21b)]()), _0xb45a89; } ['deletePatches'](_0x234c9c) { var _0x1ddfea = _0x2c4d12; _0x234c9c[_0x1ddfea(0xfb)](_0x2c1241 => { var _0x43570c = _0x1ddfea; _0x2c1241[_0x43570c(0x1b0)][_0x43570c(0x21b)](); }); } [_0x2c4d12(0x227)](_0x286463, _0x4355fc, _0x27d6c3, _0x2fb6fb) { var _0x500828 = _0x2c4d12, _0x260760 = (this['LAST_POSE_IS_STABLE'] ? this[_0x500828(0x202)] : this[_0x500828(0x17e)]) * _0x27d6c3, _0xa9b09 = (this[_0x500828(0x1c5)] ? this[_0x500828(0x10d)] : this['TRACK_WINDOW_SIZE']) * _0x27d6c3, _0x374d5d = new cv['KeyPointVector'](); if (_0x2fb6fb) { var _0x4cdcbd = _0x500828(0x227), _0x417c35 = this['debugLoad'](_0x4cdcbd); if (!_0x417c35) { var _0x417c35 = new cv[(_0x500828(0xc9))](); cv['cvtColor'](_0x286463, _0x417c35, cv['COLOR_GRAY2RGB'], 0x0); } } return _0x4355fc[_0x500828(0xfb)](_0x20422a => { var _0x26bf23 = _0x500828, _0x3dc439 = _0x20422a['keypoint'], _0x4eea8c = _0x3dc439['pt']['x'], _0x55775c = _0x3dc439['pt']['y'], _0x3495ae = _0x20422a[_0x26bf23(0x1b0)], _0x1b4fad = Math[_0x26bf23(0x159)](_0x260760 / 0x2), _0x474ff4 = new cv[(_0x26bf23(0x129))](_0x4eea8c - _0x1b4fad, _0x55775c - _0x1b4fad, _0x260760, _0x260760), _0x568d56 = new cv[(_0x26bf23(0x129))](_0x4eea8c - _0xa9b09 / 0x2, _0x55775c - _0xa9b09 / 0x2, _0xa9b09, _0xa9b09); _0x2fb6fb && (cv[_0x26bf23(0x158)](_0x417c35, new cv[(_0x26bf23(0x16b))](_0x474ff4['x'], _0x474ff4['y']), new cv[(_0x26bf23(0x16b))](_0x474ff4['x'] + _0x474ff4[_0x26bf23(0xb1)], _0x474ff4['y'] + _0x474ff4[_0x26bf23(0x1a9)]), new cv[(_0x26bf23(0x193))](0xff, 0x0, 0x0), 0x1), cv[_0x26bf23(0x158)](_0x417c35, new cv[(_0x26bf23(0x16b))](_0x568d56['x'], _0x568d56['y']), new cv[(_0x26bf23(0x16b))](_0x568d56['x'] + _0x568d56[_0x26bf23(0xb1)], _0x568d56['y'] + _0x568d56[_0x26bf23(0x1a9)]), new cv[(_0x26bf23(0x193))](0x0, 0x0, 0xff), 0x1)); var _0x245fab = _0x286463[_0x26bf23(0x154)](_0x568d56), _0x17c85c = new cv[(_0x26bf23(0xc9))](); cv['matchTemplate'](_0x245fab, _0x3495ae, _0x17c85c, cv[_0x26bf23(0xf3)]); var _0xdec54f = cv[_0x26bf23(0x1d2)](_0x17c85c); _0x245fab['delete'](), _0x17c85c[_0x26bf23(0x21b)](); var _0x45fbe5 = new cv['Point'](_0x4eea8c - _0xa9b09 / 0x2 + _0xdec54f['maxLoc']['x'], _0x55775c - _0xa9b09 / 0x2 + _0xdec54f[_0x26bf23(0x1f4)]['y']), _0x1c05ff = new cv[(_0x26bf23(0x16b))](_0x45fbe5['x'] + _0x260760, _0x45fbe5['y'] + _0x260760); _0x3dc439['pt']['x'] = _0x45fbe5['x'] + Math[_0x26bf23(0x1c8)](_0x260760 / 0x2), _0x3dc439['pt']['y'] = _0x45fbe5['y'] + Math[_0x26bf23(0x1c8)](_0x260760 / 0x2), _0x374d5d['push_back'](_0x3dc439), _0x2fb6fb && cv[_0x26bf23(0x158)](_0x417c35, _0x45fbe5, _0x1c05ff, new cv[(_0x26bf23(0x193))](0xff, 0xff, 0x0), 0x1); }), _0x2fb6fb && (this[_0x500828(0xe6)](_0x417c35, _0x4cdcbd), this[_0x500828(0xd2)](_0x417c35, _0x4cdcbd)), _0x374d5d; } [_0x2c4d12(0x121)](_0x562321, _0x1951bf, _0x4a68e5, _0xee7c1d = null, _0x2b32cb = ![], _0x3b75ef) { var _0x1bbffe = _0x2c4d12; if (_0x2b32cb) { var _0xba79b = new cv['Mat'](); cv[_0x1bbffe(0x1c1)](_0x3b75ef, _0xba79b, cv['COLOR_GRAY2RGB'], 0x0); } var _0x3ca584 = Math[_0x1bbffe(0x21a)](_0x562321, _0x1951bf); _0x562321 = _0x562321 / _0x3ca584 * 0.5, _0x1951bf = _0x1951bf / _0x3ca584 * 0.5; var _0x191b3c = [-_0x562321, _0x1951bf, 0x0, _0x562321, _0x1951bf, 0x0, _0x562321, -_0x1951bf, 0x0, -_0x562321, -_0x1951bf, 0x0], _0x1838ba = []; for (var _0x4bada8 = 0x0; _0x4bada8 < _0x4a68e5[_0x1bbffe(0xaa)]['length']; _0x4bada8 += 0x2) { _0x1838ba['push'](_0x4a68e5[_0x1bbffe(0xaa)][_0x4bada8]), _0x1838ba[_0x1bbffe(0x1a3)](_0x4a68e5[_0x1bbffe(0xaa)][_0x4bada8 + 0x1]), _0x2b32cb && cv['circle'](_0xba79b, new cv[(_0x1bbffe(0x16b))](_0x4a68e5['data32F'][_0x4bada8], _0x4a68e5[_0x1bbffe(0xaa)][_0x4bada8 + 0x1]), 0x3, new cv[(_0x1bbffe(0x193))](0xff, 0x0, 0x0), 0x3); } _0x1838ba = cv[_0x1bbffe(0xfa)](_0x1838ba['length'] / 0x2, 0x2, cv['CV_32F'], _0x1838ba), _0x191b3c = cv[_0x1bbffe(0xfa)](_0x191b3c[_0x1bbffe(0x1ef)] / 0x3, 0x3, cv[_0x1bbffe(0x194)], _0x191b3c); var _0x3e9b85 = new cv[(_0x1bbffe(0xc9))](0x3, 0x1, cv[_0x1bbffe(0x194)]), _0x1ff66f = new cv[(_0x1bbffe(0xc9))](0x3, 0x1, cv[_0x1bbffe(0x194)]), _0x1ea2b7 = ![]; if (_0xee7c1d) { _0xee7c1d[_0x1bbffe(0x1e3)][_0x1bbffe(0xc0)](_0x3e9b85); var _0x1ff66f = new cv[(_0x1bbffe(0xc9))](0x3, 0x1, cv[_0x1bbffe(0x194)]); cv[_0x1bbffe(0x199)](_0xee7c1d[_0x1bbffe(0x17c)], _0x1ff66f), _0x1ea2b7 = !![]; } var _0x59bb65 = cv[_0x1bbffe(0xc6)](_0x191b3c, _0x1838ba, this['CAM_MAT'], this['CAM_DIST_MAT'], _0x1ff66f, _0x3e9b85, _0x1ea2b7, cv[_0x1bbffe(0x140)]), _0x44a1dc = new cv[(_0x1bbffe(0xc9))](); cv[_0x1bbffe(0x199)](_0x1ff66f, _0x44a1dc); if (_0x2b32cb) { var _0x5281cb = [0x0, 0x0, 0x0, 0.25, 0x0, 0x0, 0x0, 0.25, 0x0, 0x0, 0x0, 0.25, -_0x562321, _0x1951bf, 0x0, _0x562321, _0x1951bf, 0x0, _0x562321, -_0x1951bf, 0x0, -_0x562321, -_0x1951bf, 0x0], _0x5281cb = cv['matFromArray'](0x8, 0x3, cv[_0x1bbffe(0x194)], _0x5281cb); cv[_0x1bbffe(0xdc)](_0x5281cb, _0x1ff66f, _0x3e9b85, this['CAM_MAT'], this[_0x1bbffe(0x163)], _0x5281cb), cv[_0x1bbffe(0x1f2)](_0xba79b, new cv[(_0x1bbffe(0x16b))](_0x5281cb[_0x1bbffe(0xaa)][0x0], _0x5281cb['data32F'][0x1]), new cv['Point'](_0x5281cb[_0x1bbffe(0xaa)][0x2], _0x5281cb[_0x1bbffe(0xaa)][0x3]), new cv[(_0x1bbffe(0x193))](0xff, 0x0, 0x0), 0x2), cv[_0x1bbffe(0x1f2)](_0xba79b, new cv['Point'](_0x5281cb[_0x1bbffe(0xaa)][0x0], _0x5281cb['data32F'][0x1]), new cv[(_0x1bbffe(0x16b))](_0x5281cb[_0x1bbffe(0xaa)][0x4], _0x5281cb[_0x1bbffe(0xaa)][0x5]), new cv[(_0x1bbffe(0x193))](0x0, 0xff, 0x0), 0x2), cv[_0x1bbffe(0x1f2)](_0xba79b, new cv[(_0x1bbffe(0x16b))](_0x5281cb['data32F'][0x0], _0x5281cb[_0x1bbffe(0xaa)][0x1]), new cv['Point'](_0x5281cb[_0x1bbffe(0xaa)][0x6], _0x5281cb[_0x1bbffe(0xaa)][0x7]), new cv[(_0x1bbffe(0x193))](0x0, 0x0, 0xff), 0x2), cv[_0x1bbffe(0x1f2)](_0xba79b, new cv[(_0x1bbffe(0x16b))](_0x5281cb[_0x1bbffe(0xaa)][0x8], _0x5281cb['data32F'][0x9]), new cv[(_0x1bbffe(0x16b))](_0x5281cb[_0x1bbffe(0xaa)][0xa], _0x5281cb['data32F'][0xb]), new cv[(_0x1bbffe(0x193))](0xff, 0x0, 0xff), 0x2), cv[_0x1bbffe(0x1f2)](_0xba79b, new cv['Point'](_0x5281cb[_0x1bbffe(0xaa)][0xa], _0x5281cb[_0x1bbffe(0xaa)][0xb]), new cv['Point'](_0x5281cb['data32F'][0xc], _0x5281cb[_0x1bbffe(0xaa)][0xd]), new cv[(_0x1bbffe(0x193))](0xff, 0x0, 0xff), 0x2), cv[_0x1bbffe(0x1f2)](_0xba79b, new cv[(_0x1bbffe(0x16b))](_0x5281cb[_0x1bbffe(0xaa)][0xc], _0x5281cb['data32F'][0xd]), new cv[(_0x1bbffe(0x16b))](_0x5281cb[_0x1bbffe(0xaa)][0xe], _0x5281cb['data32F'][0xf]), new cv[(_0x1bbffe(0x193))](0xff, 0x0, 0xff), 0x2), cv['line'](_0xba79b, new cv[(_0x1bbffe(0x16b))](_0x5281cb[_0x1bbffe(0xaa)][0xe], _0x5281cb[_0x1bbffe(0xaa)][0xf]), new cv[(_0x1bbffe(0x16b))](_0x5281cb[_0x1bbffe(0xaa)][0x8], _0x5281cb[_0x1bbffe(0xaa)][0x9]), new cv[(_0x1bbffe(0x193))](0xff, 0x0, 0xff), 0x2), _0x5281cb[_0x1bbffe(0x21b)](), this['debugShow'](_0xba79b, _0x1bbffe(0x121)), _0xba79b[_0x1bbffe(0x21b)](); } return _0x1838ba[_0x1bbffe(0x21b)](), _0x191b3c['delete'](), { 'rotMat': _0x44a1dc, 'tvec': _0x3e9b85 }; } [_0x2c4d12(0x1e8)](_0x2360b2, _0x534a1f, _0xbbb1c3) { var _0xe195a3 = _0x2c4d12, _0x3d2bb5 = this['imageTargets']['tracked'][_0x534a1f]; if (!_0x3d2bb5[_0xe195a3(0x114)]) return _0x3d2bb5['lastPose'] = _0x2360b2, { 'valid': !![], 'deltapos': 0x0, 'deltaup': 0x1, 'deltaforward': 0x1 }; var _0x5f1ac4 = _0x3d2bb5[_0xe195a3(0x114)]['tvec'], _0x2aa299 = _0x2360b2[_0xe195a3(0x1e3)], _0x26c3b6 = Math['pow'](_0x2aa299[_0xe195a3(0xaa)][0x0] - _0x5f1ac4[_0xe195a3(0xaa)][0x0], 0x2) + Math['pow'](_0x2aa299[_0xe195a3(0xaa)][0x1] - _0x5f1ac4[_0xe195a3(0xaa)][0x1], 0x2) + Math[_0xe195a3(0xf1)](_0x2aa299[_0xe195a3(0xaa)][0x2] - _0x5f1ac4[_0xe195a3(0xaa)][0x2], 0x2), _0x583c4b = _0x3d2bb5[_0xe195a3(0x114)]['rotMat'], _0x1effeb = new cv[(_0xe195a3(0xc9))](0x3, 0x1, cv[_0xe195a3(0x194)]); _0x1effeb[_0xe195a3(0xaa)][0x0] = _0x583c4b['data32F'][0x3], _0x1effeb[_0xe195a3(0xaa)][0x1] = _0x583c4b[_0xe195a3(0xaa)][0x4], _0x1effeb[_0xe195a3(0xaa)][0x2] = _0x583c4b[_0xe195a3(0xaa)][0x5]; var _0x38a583 = new cv[(_0xe195a3(0xc9))](0x3, 0x1, cv[_0xe195a3(0x194)]); _0x38a583[_0xe195a3(0xaa)][0x0] = _0x2360b2[_0xe195a3(0x17c)][_0xe195a3(0xaa)][0x3], _0x38a583[_0xe195a3(0xaa)][0x1] = _0x2360b2['rotMat'][_0xe195a3(0xaa)][0x4], _0x38a583[_0xe195a3(0xaa)][0x2] = _0x2360b2[_0xe195a3(0x17c)][_0xe195a3(0xaa)][0x5]; var _0x26c841 = new cv[(_0xe195a3(0xc9))](0x3, 0x1, cv[_0xe195a3(0x194)]); _0x26c841[_0xe195a3(0xaa)][0x0] = _0x583c4b['data32F'][0x6], _0x26c841[_0xe195a3(0xaa)][0x1] = _0x583c4b[_0xe195a3(0xaa)][0x7], _0x26c841[_0xe195a3(0xaa)][0x2] = _0x583c4b[_0xe195a3(0xaa)][0x8]; var _0x371576 = new cv[(_0xe195a3(0xc9))](0x3, 0x1, cv[_0xe195a3(0x194)]); _0x371576['data32F'][0x0] = _0x2360b2['rotMat'][_0xe195a3(0xaa)][0x6], _0x371576[_0xe195a3(0xaa)][0x1] = _0x2360b2[_0xe195a3(0x17c)][_0xe195a3(0xaa)][0x7], _0x371576[_0xe195a3(0xaa)][0x2] = _0x2360b2[_0xe195a3(0x17c)][_0xe195a3(0xaa)][0x8]; var _0x136ec1 = _0x38a583['dot'](_0x1effeb), _0x34cfe8 = _0x371576[_0xe195a3(0x12c)](_0x26c841); _0x1effeb['delete'](), _0x38a583['delete'](), _0x26c841[_0xe195a3(0x21b)](), _0x371576['delete'](); if (_0xbbb1c3) console[_0xe195a3(0x1b7)](_0xe195a3(0x1ad), _0x26c3b6, _0x136ec1, _0x34cfe8); return _0x26c3b6 < this[_0xe195a3(0x1bc)] && _0x136ec1 > this[_0xe195a3(0xd0)] && _0x34cfe8 > this['VALID_POSE_DELTA_ROT'] ? (_0x3d2bb5[_0xe195a3(0x114)]['tvec'][_0xe195a3(0x21b)](), _0x3d2bb5['lastPose'][_0xe195a3(0x17c)][_0xe195a3(0x21b)](), _0x3d2bb5['lastPose'] = _0x2360b2, this[_0xe195a3(0x1c5)] = _0x26c3b6 < this[_0xe195a3(0x103)] && _0x136ec1 > this[_0xe195a3(0x19d)] && _0x34cfe8 > this['STABLE_POSE_DELTA_ROT'], { 'valid': !![], 'deltapos': _0x26c3b6, 'deltaup': _0x136ec1, 'deltaforward': _0x34cfe8 }) : { 'valid': ![], 'deltapos': _0x26c3b6, 'deltaup': _0x136ec1, 'deltaforward': _0x34cfe8 }; } [_0x2c4d12(0x17b)](_0x350b13, _0x53b1b3, _0x31d263) { var _0x88f913 = _0x2c4d12; if (!_0x53b1b3) return _0x350b13; var _0x273bd0 = _0x350b13[_0x88f913(0x1e3)], _0x2205ab = _0x53b1b3['tvec'], _0x6700fc = Math[_0x88f913(0xf1)](_0x273bd0[_0x88f913(0xaa)][0x0] - _0x2205ab['data32F'][0x0], 0x2) + Math[_0x88f913(0xf1)](_0x273bd0[_0x88f913(0xaa)][0x1] - _0x2205ab[_0x88f913(0xaa)][0x1], 0x2) + Math['pow'](_0x273bd0['data32F'][0x2] - _0x2205ab[_0x88f913(0xaa)][0x2], 0x2), _0x237227 = _0x53b1b3[_0x88f913(0x17c)], _0x222a3e = new cv[(_0x88f913(0xc9))](0x3, 0x1, cv[_0x88f913(0x194)]); _0x222a3e[_0x88f913(0xaa)][0x0] = _0x237227['data32F'][0x3], _0x222a3e[_0x88f913(0xaa)][0x1] = _0x237227[_0x88f913(0xaa)][0x4], _0x222a3e[_0x88f913(0xaa)][0x2] = _0x237227[_0x88f913(0xaa)][0x5]; var _0x7f5795 = new cv[(_0x88f913(0xc9))](0x3, 0x1, cv[_0x88f913(0x194)]); _0x7f5795[_0x88f913(0xaa)][0x0] = _0x350b13[_0x88f913(0x17c)][_0x88f913(0xaa)][0x3], _0x7f5795[_0x88f913(0xaa)][0x1] = _0x350b13['rotMat'][_0x88f913(0xaa)][0x4], _0x7f5795[_0x88f913(0xaa)][0x2] = _0x350b13[_0x88f913(0x17c)][_0x88f913(0xaa)][0x5]; var _0x39a5fa = new cv[(_0x88f913(0xc9))](0x3, 0x1, cv['CV_32F']); _0x39a5fa['data32F'][0x0] = _0x237227['data32F'][0x6], _0x39a5fa[_0x88f913(0xaa)][0x1] = _0x237227[_0x88f913(0xaa)][0x7], _0x39a5fa[_0x88f913(0xaa)][0x2] = _0x237227[_0x88f913(0xaa)][0x8]; var _0x388758 = new cv['Mat'](0x3, 0x1, cv[_0x88f913(0x194)]); _0x388758[_0x88f913(0xaa)][0x0] = _0x350b13['rotMat'][_0x88f913(0xaa)][0x6], _0x388758[_0x88f913(0xaa)][0x1] = _0x350b13['rotMat'][_0x88f913(0xaa)][0x7], _0x388758[_0x88f913(0xaa)][0x2] = _0x350b13['rotMat'][_0x88f913(0xaa)][0x8]; var _0x125a0d = _0x7f5795[_0x88f913(0x12c)](_0x222a3e), _0x510369 = _0x388758[_0x88f913(0x12c)](_0x39a5fa); _0x222a3e[_0x88f913(0x21b)](), _0x7f5795[_0x88f913(0x21b)](), _0x39a5fa[_0x88f913(0x21b)](), _0x388758[_0x88f913(0x21b)](); if (_0x6700fc < this['KALMAN_DELTA_POS'] && _0x125a0d > this[_0x88f913(0x1db)] && _0x510369 > this[_0x88f913(0x1db)]) { if (_0x31d263) console[_0x88f913(0x1b7)]('filterNoise\x20->\x20poseKalman', _0x6700fc, _0x125a0d, _0x510369); return _0x53b1b3; } else { if (_0x31d263) console['log']('filterNoise\x20->\x20poseRaw', _0x6700fc, _0x125a0d, _0x510369); return _0x350b13; } } [_0x2c4d12(0x168)](_0x438cc5) { var _0x4f0f71 = _0x2c4d12, _0x3c8028 = this[_0x4f0f71(0x1d1)]['untracked'][_0x438cc5]; _0x3c8028[_0x4f0f71(0x1d4)] = {}, _0x3c8028[_0x4f0f71(0x1d4)]['kf'] = new cv[(_0x4f0f71(0x212))](0x15, 0x7, 0x0, cv[_0x4f0f71(0x194)]), _0x3c8028['kalman'][_0x4f0f71(0x19b)] = new cv[(_0x4f0f71(0xc9))](0x15, 0x1, cv[_0x4f0f71(0x194)]), _0x3c8028['kalman'][_0x4f0f71(0xa1)] = new cv[(_0x4f0f71(0xc9))](0x7, 0x1, cv[_0x4f0f71(0x194)]), this[_0x4f0f71(0x137)](_0x3c8028[_0x4f0f71(0x1d4)]['kf'], 0x1 / this['FRAMERATE']), _0x3c8028['kalman']['kf'][_0x4f0f71(0x19e)] = cv['matFromArray'](0x7, 0x15, cv[_0x4f0f71(0x194)], [0x1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0]), this[_0x4f0f71(0x1da)](_0x3c8028[_0x4f0f71(0x1d4)]['kf']['processNoiseCov']), this[_0x4f0f71(0xa9)](_0x3c8028[_0x4f0f71(0x1d4)]['kf']['measurementNoiseCov']), _0x3c8028[_0x4f0f71(0x1d4)]['kf']['statePre'][_0x4f0f71(0x21b)](), _0x3c8028[_0x4f0f71(0x1d4)]['state'][_0x4f0f71(0xc0)](_0x3c8028[_0x4f0f71(0x1d4)]['kf'][_0x4f0f71(0x124)]), _0x3c8028['kalman']['kf'][_0x4f0f71(0xe1)][_0x4f0f71(0x21b)](), _0x3c8028[_0x4f0f71(0x1d4)][_0x4f0f71(0x19b)][_0x4f0f71(0xc0)](_0x3c8028[_0x4f0f71(0x1d4)]['kf'][_0x4f0f71(0xe1)]), _0x3c8028[_0x4f0f71(0x1d4)][_0x4f0f71(0x1fd)] = ![]; } [_0x2c4d12(0x1b5)](_0x289e49) { var _0xf2a9db = _0x2c4d12, _0x152be1 = this[_0xf2a9db(0x1d1)][_0xf2a9db(0xed)][_0x289e49]; this['setNoise21x21'](_0x152be1[_0xf2a9db(0x1d4)]['kf'][_0xf2a9db(0x200)]), _0x152be1['kalman'][_0xf2a9db(0x19b)]['delete'](), _0x152be1['kalman']['state'] = cv[_0xf2a9db(0xfa)](0x15, 0x1, cv['CV_32F'], [_0x152be1[_0xf2a9db(0x1d4)][_0xf2a9db(0xa1)]['data32F'][0x0], _0x152be1[_0xf2a9db(0x1d4)][_0xf2a9db(0xa1)][_0xf2a9db(0xaa)][0x1], _0x152be1[_0xf2a9db(0x1d4)][_0xf2a9db(0xa1)][_0xf2a9db(0xaa)][0x2], 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x152be1[_0xf2a9db(0x1d4)][_0xf2a9db(0xa1)]['data32F'][0x3], _0x152be1[_0xf2a9db(0x1d4)][_0xf2a9db(0xa1)][_0xf2a9db(0xaa)][0x4], _0x152be1['kalman']['meas'][_0xf2a9db(0xaa)][0x5], _0x152be1[_0xf2a9db(0x1d4)][_0xf2a9db(0xa1)][_0xf2a9db(0xaa)][0x6], 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0]), _0x152be1[_0xf2a9db(0x1d4)]['kf']['statePost'][_0xf2a9db(0x21b)](), _0x152be1['kalman'][_0xf2a9db(0x19b)][_0xf2a9db(0xc0)](_0x152be1['kalman']['kf'][_0xf2a9db(0xe1)]), _0x152be1[_0xf2a9db(0x1d4)][_0xf2a9db(0x1fd)] = ![]; } [_0x2c4d12(0xba)](_0x3f3ef3, _0x14bd53) { var _0x490011 = _0x2c4d12, _0x5b8deb = this['imageTargets'][_0x490011(0xed)][_0x3f3ef3]; this[_0x490011(0x137)](_0x5b8deb[_0x490011(0x1d4)]['kf'], _0x14bd53), _0x5b8deb[_0x490011(0x1d4)][_0x490011(0x19b)]['delete'](), _0x5b8deb['kalman']['state'] = _0x5b8deb['kalman']['kf'][_0x490011(0x155)](); var _0x320dbe = cv[_0x490011(0xfa)](0x3, 0x4, cv[_0x490011(0x194)], [_0x5b8deb[_0x490011(0x1d4)][_0x490011(0x19b)][_0x490011(0xaa)][0x0], _0x5b8deb[_0x490011(0x1d4)][_0x490011(0x19b)][_0x490011(0xaa)][0x1], _0x5b8deb[_0x490011(0x1d4)][_0x490011(0x19b)]['data32F'][0x2]]), _0x14446d = _0x5b8deb[_0x490011(0x1d4)][_0x490011(0x19b)][_0x490011(0xaa)][0x9], _0x1ca631 = _0x5b8deb['kalman'][_0x490011(0x19b)][_0x490011(0xaa)][0xa], _0x15a263 = _0x5b8deb[_0x490011(0x1d4)][_0x490011(0x19b)][_0x490011(0xaa)][0xb], _0x18e822 = _0x5b8deb[_0x490011(0x1d4)][_0x490011(0x19b)][_0x490011(0xaa)][0xc], _0x13dfc5 = Math[_0x490011(0x17f)](_0x14446d * _0x14446d + _0x1ca631 * _0x1ca631 + _0x15a263 * _0x15a263 + _0x18e822 * _0x18e822); _0x14446d /= _0x13dfc5, _0x1ca631 /= _0x13dfc5, _0x15a263 /= _0x13dfc5, _0x18e822 /= _0x13dfc5; var _0x3f7054 = cv[_0x490011(0xfa)](0x3, 0x3, cv[_0x490011(0x194)], [_0x14446d * _0x14446d + _0x1ca631 * _0x1ca631 + _0x15a263 * _0x15a263 + _0x18e822 * _0x18e822, 0x2 * (_0x1ca631 * _0x15a263 - _0x14446d * _0x18e822), 0x2 * (_0x1ca631 * _0x18e822 + _0x14446d * _0x15a263), 0x2 * (_0x1ca631 * _0x15a263 + _0x14446d * _0x18e822), _0x14446d * _0x14446d - _0x1ca631 * _0x1ca631 + _0x15a263 * _0x15a263 - _0x18e822 * _0x18e822, 0x2 * (_0x15a263 * _0x18e822 - _0x14446d * _0x1ca631), 0x2 * (_0x1ca631 * _0x18e822 - _0x14446d * _0x15a263), 0x2 * (_0x15a263 * _0x18e822 + _0x14446d * _0x1ca631), _0x14446d * _0x14446d - _0x1ca631 * _0x1ca631 - _0x15a263 * _0x15a263 + _0x18e822 * _0x18e822]); return { 'rotMat': _0x3f7054, 'tvec': _0x320dbe }; } [_0x2c4d12(0xd3)](_0x59d366, _0xea0d9d) { var _0x1a9c34 = _0x2c4d12, _0x2fc0f7 = this['imageTargets'][_0x1a9c34(0xed)][_0x59d366], _0x2aa556 = _0xea0d9d[_0x1a9c34(0x1e3)], _0x338b34 = _0xea0d9d[_0x1a9c34(0x17c)]['t'](), _0x48b6a6 = _0x338b34['data32F'][0x0] + _0x338b34[_0x1a9c34(0xaa)][0x4] + _0x338b34['data32F'][0x8], _0x477ae6, _0xf5e90d, _0x2e704f, _0xb45520; if (_0x48b6a6 > 0x0) { var _0x5997f3 = Math[_0x1a9c34(0x17f)](_0x48b6a6 + 0x1) * 0x2; _0x477ae6 = 0.25 * _0x5997f3, _0xf5e90d = (_0x338b34[_0x1a9c34(0xaa)][0x5] - _0x338b34['data32F'][0x7]) / _0x5997f3, _0x2e704f = (_0x338b34[_0x1a9c34(0xaa)][0x6] - _0x338b34['data32F'][0x2]) / _0x5997f3, _0xb45520 = (_0x338b34['data32F'][0x1] - _0x338b34[_0x1a9c34(0xaa)][0x3]) / _0x5997f3; } else { if (_0x338b34['data32F'][0x0] > _0x338b34[_0x1a9c34(0xaa)][0x4] & _0x338b34[_0x1a9c34(0xaa)][0x0] > _0x338b34[_0x1a9c34(0xaa)][0x8]) { var _0x5997f3 = Math[_0x1a9c34(0x17f)](0x1 + _0x338b34[_0x1a9c34(0xaa)][0x0] - _0x338b34[_0x1a9c34(0xaa)][0x4] - _0x338b34['data32F'][0x8]) * 0x2; _0x477ae6 = (_0x338b34[_0x1a9c34(0xaa)][0x5] - _0x338b34[_0x1a9c34(0xaa)][0x7]) / _0x5997f3, _0xf5e90d = 0.25 * _0x5997f3, _0x2e704f = (_0x338b34['data32F'][0x3] + _0x338b34[_0x1a9c34(0xaa)][0x1]) / _0x5997f3, _0xb45520 = (_0x338b34[_0x1a9c34(0xaa)][0x6] + _0x338b34['data32F'][0x2]) / _0x5997f3; } else { if (_0x338b34['data32F'][0x4] > _0x338b34[_0x1a9c34(0xaa)][0x8]) { var _0x5997f3 = Math[_0x1a9c34(0x17f)](0x1 + _0x338b34[_0x1a9c34(0xaa)][0x4] - _0x338b34[_0x1a9c34(0xaa)][0x0] - _0x338b34['data32F'][0x8]) * 0x2; _0x477ae6 = (_0x338b34[_0x1a9c34(0xaa)][0x6] - _0x338b34[_0x1a9c34(0xaa)][0x2]) / _0x5997f3, _0xf5e90d = (_0x338b34[_0x1a9c34(0xaa)][0x3] + _0x338b34['data32F'][0x1]) / _0x5997f3, _0x2e704f = 0.25 * _0x5997f3, _0xb45520 = (_0x338b34['data32F'][0x7] + _0x338b34[_0x1a9c34(0xaa)][0x5]) / _0x5997f3; } else { var _0x5997f3 = Math[_0x1a9c34(0x17f)](0x1 + _0x338b34[_0x1a9c34(0xaa)][0x8] - _0x338b34[_0x1a9c34(0xaa)][0x0] - _0x338b34[_0x1a9c34(0xaa)][0x4]) * 0x2; _0x477ae6 = (_0x338b34['data32F'][0x1] - _0x338b34[_0x1a9c34(0xaa)][0x3]) / _0x5997f3, _0xf5e90d = (_0x338b34[_0x1a9c34(0xaa)][0x6] + _0x338b34[_0x1a9c34(0xaa)][0x2]) / _0x5997f3, _0x2e704f = (_0x338b34[_0x1a9c34(0xaa)][0x7] + _0x338b34[_0x1a9c34(0xaa)][0x5]) / _0x5997f3, _0xb45520 = 0.25 * _0x5997f3; } } } if (this[_0x1a9c34(0x188)]) { var _0x66c4ac = this['lastw'] - _0x477ae6, _0x250683 = this[_0x1a9c34(0x148)] - _0xf5e90d, _0x585704 = this[_0x1a9c34(0x147)] - _0x2e704f, _0x418de0 = this['lastk'] - _0xb45520; (_0x66c4ac * _0x66c4ac > 0x1 || _0x250683 * _0x250683 > 0x1 || _0x585704 * _0x585704 > 0x1 || _0x418de0 * _0x418de0 > 0x1) && (_0x477ae6 *= -0x1, _0xf5e90d *= -0x1, _0x2e704f *= -0x1, _0xb45520 *= -0x1); } this[_0x1a9c34(0x188)] = _0x477ae6, this[_0x1a9c34(0x148)] = _0xf5e90d, this[_0x1a9c34(0x147)] = _0x2e704f, this['lastk'] = _0xb45520, !_0x2fc0f7[_0x1a9c34(0x1d4)]['hasPrediction'] && (_0x2fc0f7[_0x1a9c34(0x1d4)][_0x1a9c34(0x19b)][_0x1a9c34(0x21b)](), _0x2fc0f7[_0x1a9c34(0x1d4)][_0x1a9c34(0x19b)] = cv[_0x1a9c34(0xfa)](0x15, 0x1, cv[_0x1a9c34(0x194)], [_0x2aa556[_0x1a9c34(0xaa)][0x0], _0x2aa556['data32F'][0x1], _0x2aa556['data32F'][0x2], 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x477ae6, _0xf5e90d, _0x2e704f, _0xb45520, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0]), _0x2fc0f7['kalman']['kf']['statePre'][_0x1a9c34(0x21b)](), _0x2fc0f7[_0x1a9c34(0x1d4)]['state'][_0x1a9c34(0xc0)](_0x2fc0f7[_0x1a9c34(0x1d4)]['kf'][_0x1a9c34(0x124)]), _0x2fc0f7[_0x1a9c34(0x1d4)]['kf'][_0x1a9c34(0xe1)][_0x1a9c34(0x21b)](), _0x2fc0f7['kalman'][_0x1a9c34(0x19b)][_0x1a9c34(0xc0)](_0x2fc0f7[_0x1a9c34(0x1d4)]['kf']['statePost'])), _0x2fc0f7['kalman'][_0x1a9c34(0xa1)]['data32F'][0x0] = _0x2aa556[_0x1a9c34(0xaa)][0x0], _0x2fc0f7[_0x1a9c34(0x1d4)][_0x1a9c34(0xa1)][_0x1a9c34(0xaa)][0x1] = _0x2aa556[_0x1a9c34(0xaa)][0x1], _0x2fc0f7[_0x1a9c34(0x1d4)][_0x1a9c34(0xa1)][_0x1a9c34(0xaa)][0x2] = _0x2aa556[_0x1a9c34(0xaa)][0x2], _0x2fc0f7[_0x1a9c34(0x1d4)][_0x1a9c34(0xa1)][_0x1a9c34(0xaa)][0x3] = _0x477ae6, _0x2fc0f7[_0x1a9c34(0x1d4)][_0x1a9c34(0xa1)][_0x1a9c34(0xaa)][0x4] = _0xf5e90d, _0x2fc0f7[_0x1a9c34(0x1d4)][_0x1a9c34(0xa1)]['data32F'][0x5] = _0x2e704f, _0x2fc0f7['kalman']['meas'][_0x1a9c34(0xaa)][0x6] = _0xb45520, _0x2fc0f7[_0x1a9c34(0x1d4)]['kf'][_0x1a9c34(0xeb)](_0x2fc0f7[_0x1a9c34(0x1d4)]['meas']), _0x2fc0f7['kalman'][_0x1a9c34(0x1fd)] = !![]; } [_0x2c4d12(0x1da)](_0x3c39fc) { var _0x37ee6e = _0x2c4d12, _0x271639 = this[_0x37ee6e(0x182)], _0x1c84b1 = this[_0x37ee6e(0x1dd)], _0x365317 = this[_0x37ee6e(0xc2)], _0x3cb4b4 = this['KALMAN_PROC_NOISE_ROT'], _0x365e65 = this['KALMAN_PROC_NOISE_RVEL'], _0x46b528 = this['KALMAN_PROC_NOISE_RACC'], _0x465d8e = cv[_0x37ee6e(0xfa)](0x15, 0x15, cv[_0x37ee6e(0x194)], [_0x271639, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x271639, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x271639, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x1c84b1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x1c84b1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x1c84b1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x365317, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x365317, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x365317, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x3cb4b4, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x3cb4b4, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x3cb4b4, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x3cb4b4, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x365e65, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x365e65, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x365e65, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x365e65, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x46b528, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x46b528, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x46b528, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x46b528]); _0x465d8e[_0x37ee6e(0xc0)](_0x3c39fc), _0x465d8e[_0x37ee6e(0x21b)](); } [_0x2c4d12(0xa9)](_0x16645a) { var _0xea5e3b = _0x2c4d12, _0x59b036 = this[_0xea5e3b(0xbe)], _0x5d39c2 = this[_0xea5e3b(0x156)], _0x274c4a = cv['matFromArray'](0x7, 0x7, cv['CV_32F'], [_0x59b036, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x59b036, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x59b036, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x5d39c2, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x5d39c2, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x5d39c2, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x5d39c2]); _0x274c4a['copyTo'](_0x16645a), _0x274c4a['delete'](); } [_0x2c4d12(0xc5)]() { var _0x3da1bf = _0x2c4d12; console[_0x3da1bf(0x1b7)]('(' + this['KALMAN_MEAS_NOISE_POS'] + ',' + this[_0x3da1bf(0x156)] + ')'); } [_0x2c4d12(0x15a)](_0x53e092, _0x1015bc) { var _0x1c02b9 = _0x2c4d12; this[_0x1c02b9(0xbe)] = _0x53e092, this[_0x1c02b9(0x156)] = _0x1015bc; var _0x3e5599 = Object[_0x1c02b9(0x219)](this[_0x1c02b9(0x1d1)]['untracked']); _0x3e5599[_0x1c02b9(0xfb)](_0x3691e5 => { var _0x5e070f = _0x1c02b9, _0x11e5c6 = this['imageTargets'][_0x5e070f(0x198)][_0x3691e5]; this['setNoise7x7'](_0x11e5c6[_0x5e070f(0x1d4)]['kf'][_0x5e070f(0x1ee)]); }); } [_0x2c4d12(0x137)](_0x3e4b98, _0x2b9945) { var _0x19b7e1 = _0x2c4d12, _0x125663 = 0.5 * _0x2b9945 * _0x2b9945; _0x3e4b98[_0x19b7e1(0x19c)][_0x19b7e1(0xaa)][0x3] = _0x2b9945, _0x3e4b98[_0x19b7e1(0x19c)]['data32F'][0x19] = _0x2b9945, _0x3e4b98[_0x19b7e1(0x19c)][_0x19b7e1(0xaa)][0x2f] = _0x2b9945, _0x3e4b98[_0x19b7e1(0x19c)][_0x19b7e1(0xaa)][0x45] = _0x2b9945, _0x3e4b98[_0x19b7e1(0x19c)]['data32F'][0x5b] = _0x2b9945, _0x3e4b98[_0x19b7e1(0x19c)]['data32F'][0x71] = _0x2b9945, _0x3e4b98['transitionMatrix'][_0x19b7e1(0xaa)][0xca] = _0x2b9945, _0x3e4b98[_0x19b7e1(0x19c)]['data32F'][0xe0] = _0x2b9945, _0x3e4b98[_0x19b7e1(0x19c)][_0x19b7e1(0xaa)][0xf6] = _0x2b9945, _0x3e4b98[_0x19b7e1(0x19c)][_0x19b7e1(0xaa)][0x10c] = _0x2b9945, _0x3e4b98['transitionMatrix'][_0x19b7e1(0xaa)][0x122] = _0x2b9945, _0x3e4b98[_0x19b7e1(0x19c)][_0x19b7e1(0xaa)][0x138] = _0x2b9945, _0x3e4b98[_0x19b7e1(0x19c)][_0x19b7e1(0xaa)][0x14e] = _0x2b9945, _0x3e4b98[_0x19b7e1(0x19c)]['data32F'][0x164] = _0x2b9945, _0x3e4b98[_0x19b7e1(0x19c)][_0x19b7e1(0xaa)][0x6] = _0x125663, _0x3e4b98['transitionMatrix']['data32F'][0x1c] = _0x125663, _0x3e4b98['transitionMatrix'][_0x19b7e1(0xaa)][0x32] = _0x125663, _0x3e4b98[_0x19b7e1(0x19c)][_0x19b7e1(0xaa)][0xce] = _0x125663, _0x3e4b98['transitionMatrix']['data32F'][0xe4] = _0x125663, _0x3e4b98[_0x19b7e1(0x19c)]['data32F'][0xfa] = _0x125663, _0x3e4b98['transitionMatrix'][_0x19b7e1(0xaa)][0x110] = _0x125663; } [_0x2c4d12(0x177)](_0x101066, _0xe0679d) { var _0x3d2549 = _0x2c4d12, _0x2cd16d = [], _0x305d50 = 0x1, _0x5061b2 = 0x0, _0x3962fe = 0x1, _0x2e4af1 = 0x0; for (var _0x2947b0 = 0x0; _0x2947b0 < _0xe0679d['matches'][_0x3d2549(0x174)](); _0x2947b0++) { var _0x6c66ee = _0xe0679d[_0x3d2549(0x115)][_0x3d2549(0x125)](_0x2947b0); _0x2cd16d[_0x3d2549(0x1a3)](_0x6c66ee[_0x3d2549(0x1c6)]); var _0x58ba0b = _0xe0679d[_0x3d2549(0x115)][_0x3d2549(0x174)](), _0xb328d7 = _0xe0679d[_0x3d2549(0x226)][_0x3d2549(0x174)]()[_0x3d2549(0xb1)], _0xc99dad = _0xe0679d[_0x3d2549(0x226)]['size']()[_0x3d2549(0x1a9)], _0x5b0033 = _0xe0679d['kp']['get'](_0x6c66ee[_0x3d2549(0x1c6)])['pt']['x'] / _0xb328d7, _0x5a026f = _0xe0679d['kp'][_0x3d2549(0x125)](_0x6c66ee[_0x3d2549(0x1c6)])['pt']['y'] / _0xc99dad; if (_0x5b0033 < _0x305d50) _0x305d50 = _0x5b0033; else { if (_0x5b0033 > _0x5061b2) _0x5061b2 = _0x5b0033; } if (_0x5a026f < _0x3962fe) _0x3962fe = _0x5a026f; else { if (_0x5a026f > _0x2e4af1) _0x2e4af1 = _0x5a026f; } } var _0xdd24c8 = (_0x5061b2 - _0x305d50) * (_0x2e4af1 - _0x3962fe); (!_0xe0679d[_0x3d2549(0x176)] || _0xdd24c8 > _0xe0679d[_0x3d2549(0x176)]) && (_0xe0679d[_0x3d2549(0x176)] = _0xdd24c8, _0xe0679d[_0x3d2549(0xae)] = _0x2cd16d); if (_0xe0679d[_0x3d2549(0x154)]) { var _0x50107b = _0xe0679d[_0x3d2549(0x154)]['x'] > 0x0, _0x2c6910 = _0xe0679d[_0x3d2549(0x154)]['x'] + _0xe0679d[_0x3d2549(0x154)]['width'] < _0x101066[_0x3d2549(0x174)]()[_0x3d2549(0xb1)], _0x47d0e6 = _0xe0679d[_0x3d2549(0x154)]['y'] > 0x0, _0x41532a = _0xe0679d[_0x3d2549(0x154)]['y'] + _0xe0679d[_0x3d2549(0x154)][_0x3d2549(0x1a9)] < _0x101066['size']()['height']; if (_0xdd24c8 < 0.5 * _0xe0679d[_0x3d2549(0xf5)] && (_0x50107b && _0x2c6910 && _0x47d0e6 && _0x41532a)) { if (_0xe0679d[_0x3d2549(0x176)] && _0xe0679d[_0x3d2549(0x176)] > _0xdd24c8) { var _0x58d282 = 0x0; _0xe0679d[_0x3d2549(0x115)][_0x3d2549(0x21b)](), _0xe0679d[_0x3d2549(0x115)] = new cv[(_0x3d2549(0xce))](); for (var _0x2947b0 = 0x0; _0x2947b0 < _0xe0679d[_0x3d2549(0xae)]['length']; _0x2947b0++) { var _0x6c66ee = { 'distance': 0x64, 'imgIdx': 0x0, 'queryIdx': 0x0, 'trainIdx': _0xe0679d[_0x3d2549(0xae)][_0x2947b0] }; _0xe0679d[_0x3d2549(0x115)]['push_back'](_0x6c66ee), _0x58d282++; } return; } } } var _0x58d282 = 0x0; while (_0xe0679d[_0x3d2549(0x115)][_0x3d2549(0x174)]() < this[_0x3d2549(0xb7)] && _0xe0679d['matches'][_0x3d2549(0x174)]() < _0xe0679d['kp'][_0x3d2549(0x174)]()) { var _0x3551ef = this[_0x3d2549(0xd7)](0x0, _0xe0679d['kp'][_0x3d2549(0x174)]() - 0x1); if (_0x2cd16d['includes'](_0x3551ef)) continue; var _0x6c66ee = { 'distance': 0x64, 'imgIdx': 0x0, 'queryIdx': 0x0, 'trainIdx': _0x3551ef }; _0xe0679d[_0x3d2549(0x115)]['push_back'](_0x6c66ee), _0x58d282++; } return; } [_0x2c4d12(0x229)](_0x41e2cb) { var _0x266d5d = _0x2c4d12; console[_0x266d5d(0x1b7)](_0x266d5d(0x16d) + _0x41e2cb), window[_0x266d5d(0xdd)][_0x266d5d(0x18b)](this[_0x266d5d(0xfc)], _0x266d5d(0x14d), _0x41e2cb); } [_0x2c4d12(0xb2)](_0x15eefb) { var _0x3caac2 = _0x2c4d12; console['log'](_0x3caac2(0x134) + _0x15eefb), window['unityInstance'][_0x3caac2(0x18b)](this['TRACKER_NAME'], _0x3caac2(0x20c), _0x15eefb); } [_0x2c4d12(0x151)](_0x279456, _0x3bd698) { var _0x28cb6a = _0x2c4d12, _0x5b8197 = new cv[(_0x28cb6a(0xc9))](), _0x21754e = new cv[(_0x28cb6a(0xc9))](); _0x3bd698[_0x28cb6a(0x1e3)]['copyTo'](_0x5b8197), _0x3bd698[_0x28cb6a(0x17c)][_0x28cb6a(0xc0)](_0x21754e), _0x5b8197[_0x28cb6a(0xaa)][0x1] *= -0x1, _0x21754e = _0x21754e['t'](); var _0x1fc676 = [0x1, 0x0, 0x0, 0x0, -0x1, 0x0, 0x0, 0x0, 0x1]; _0x1fc676 = cv[_0x28cb6a(0xfa)](0x3, 0x3, cv['CV_32F'], _0x1fc676), cv[_0x28cb6a(0x1f1)](_0x1fc676, _0x21754e, 0x1, _0x21754e, 0x0, _0x21754e, 0x0), cv[_0x28cb6a(0x1f1)](_0x21754e, _0x1fc676, 0x1, _0x21754e, 0x0, _0x21754e, 0x0), _0x1fc676['delete'](); var _0x4fa864 = [0x0, 0x0, -0x1, 0x0, -0x1, 0x0, -0x1, 0x0, 0x0]; _0x4fa864 = cv['matFromArray'](0x3, 0x3, cv[_0x28cb6a(0x194)], _0x4fa864), cv['gemm'](_0x4fa864, _0x21754e, 0x1, _0x21754e, 0x0, _0x21754e, 0x0), _0x4fa864[_0x28cb6a(0x21b)](); var _0x35776c = _0x279456 + ',' + _0x5b8197[_0x28cb6a(0xaa)][0x0] + ',' + _0x5b8197[_0x28cb6a(0xaa)][0x1] + ',' + _0x5b8197[_0x28cb6a(0xaa)][0x2] + ',' + _0x21754e[_0x28cb6a(0xaa)][0x0] + ',' + _0x21754e['data32F'][0x1] + ',' + _0x21754e[_0x28cb6a(0xaa)][0x2] + ',' + _0x21754e[_0x28cb6a(0xaa)][0x3] + ',' + _0x21754e[_0x28cb6a(0xaa)][0x4] + ',' + _0x21754e[_0x28cb6a(0xaa)][0x5] + ',' + _0x21754e['data32F'][0x6] + ',' + _0x21754e[_0x28cb6a(0xaa)][0x7] + ',' + _0x21754e[_0x28cb6a(0xaa)][0x8] + ','; _0x5b8197[_0x28cb6a(0x21b)](), _0x21754e['delete'](), window[_0x28cb6a(0xdd)][_0x28cb6a(0x18b)](this['TRACKER_NAME'], _0x28cb6a(0x100), _0x35776c); } [_0x2c4d12(0x180)]() { var _0x23867f = _0x2c4d12; if (!tracker[_0x23867f(0x1d8)]) return; var _0x53c231 = document[_0x23867f(0x150)](_0x23867f(0xa7))['getBoundingClientRect'](); console['log'](_0x53c231[_0x23867f(0xb1)] + 'x' + _0x53c231[_0x23867f(0x1a9)], window[_0x23867f(0x107)] + 'x' + window['innerHeight']); var _0x8e10b2 = tracker[_0x23867f(0x131)], _0x501699 = window[_0x23867f(0x107)], _0xa05ba0 = window['innerHeight'], _0x1d3950 = _0x501699 / _0xa05ba0; console[_0x23867f(0x1b7)]('ar', _0x1d3950, _0x23867f(0x1cb), tracker['ASPECT_RATIO']); if (_0x1d3950 > _0x8e10b2) { document[_0x23867f(0x1a7)][_0x23867f(0x203)]['height'] = window[_0x23867f(0x110)] + 'px'; var _0x214ed3 = document[_0x23867f(0x150)](_0x23867f(0x152))[_0x23867f(0x10f)]()['height']; _0x8e10b2 *= _0x53c231[_0x23867f(0x1a9)] / _0x214ed3, console[_0x23867f(0x1b7)](_0x23867f(0x1c3)); } else document['body'][_0x23867f(0x203)]['height'] = '100vh', console[_0x23867f(0x1b7)](_0x23867f(0x218)); var _0x2d35ba = 0.5 * tracker[_0x23867f(0x1d8)] / _0x8e10b2, _0x3a03ac = tracker[_0x23867f(0x1d8)], _0x3412df = 0x2 * Math[_0x23867f(0x14c)](_0x2d35ba / _0x3a03ac) * 0xb4 / Math['PI']; this[_0x23867f(0x20e)] = _0x3412df, console['log']('set\x20fov=' + _0x3412df), window['unityInstance'][_0x23867f(0x18b)](this[_0x23867f(0xfc)], _0x23867f(0x1e1), _0x3412df); } [_0x2c4d12(0xe6)](_0x2fefd8, _0xe4094c) { var _0x3110a2 = _0x2c4d12, _0x175a8b = 0.5, _0x1de716 = document['getElementById'](_0xe4094c); if (!_0x1de716) { _0x1de716 = document[_0x3110a2(0x16f)](_0x3110a2(0xa3)), _0x1de716['id'] = _0xe4094c, document[_0x3110a2(0x1a7)]['appendChild'](_0x1de716); if (!this[_0x3110a2(0x21c)]) this[_0x3110a2(0x21c)] = []; this[_0x3110a2(0x21c)]['push'](_0xe4094c), _0x1de716[_0x3110a2(0x203)][_0x3110a2(0xe0)] = _0x3110a2(0x185), _0x1de716[_0x3110a2(0x203)][_0x3110a2(0x142)] = 0x0, _0x1de716[_0x3110a2(0x203)][_0x3110a2(0xc4)] = 0x0, _0x1de716['style'][_0x3110a2(0x169)] = 'translate(-25%,-25%)\x20scale(' + _0x175a8b + ')'; } cv['imshow'](_0xe4094c, _0x2fefd8); var _0x570ae6 = this[_0x3110a2(0x21c)][_0x3110a2(0x1bd)](_0xe4094c); _0x570ae6 != -0x1 && (_0x1de716[_0x3110a2(0x203)][_0x3110a2(0xc4)] = _0x570ae6 * _0x2fefd8[_0x3110a2(0x174)]()['width'] * _0x175a8b + 'px'); } [_0x2c4d12(0xea)](_0x164321) { var _0x58d369 = _0x2c4d12, _0xbcff9d = document['getElementById'](_0x164321); if (_0xbcff9d) { _0xbcff9d[_0x58d369(0x1a1)](); var _0x5479e5 = this[_0x58d369(0x21c)][_0x58d369(0x1bd)](_0x164321); _0x5479e5 !== -0x1 && this['debugIds']['splice'](_0x5479e5, 0x1); } } ['debugSave'](_0x388640, _0x4011d0) { var _0xc65f04 = _0x2c4d12; if (!this[_0xc65f04(0xf2)]) this['debugImages'] = {}; this[_0xc65f04(0xf2)][_0x4011d0] = _0x388640; } [_0x2c4d12(0x165)](_0x57cfd2) { var _0xe563 = _0x2c4d12; if (this['debugImages'] && this[_0xe563(0xf2)][_0x57cfd2]) return this[_0xe563(0xf2)][_0x57cfd2]; else return; } [_0x2c4d12(0x119)](_0x604010) { var _0x4543e3 = _0x2c4d12; this['debugImages'] && this[_0x4543e3(0xf2)][_0x604010] && (this[_0x4543e3(0xf2)][_0x604010]['delete'](), this[_0x4543e3(0xf2)][_0x604010] = null); } [_0x2c4d12(0xd7)](_0x174e19, _0x3cc0f1) { var _0x238182 = _0x2c4d12; return Math[_0x238182(0x159)](Math[_0x238182(0x15f)]() * (_0x3cc0f1 - _0x174e19 + 0x1) + _0x174e19); } [_0x2c4d12(0xcc)]() { var _0x4e735a = _0x2c4d12, _0x5a8769 = document[_0x4e735a(0x16f)]('table'); _0x5a8769['id'] = _0x4e735a(0x12b), document[_0x4e735a(0x1a7)][_0x4e735a(0xac)](_0x5a8769), _0x5a8769['style']['left'] = _0x4e735a(0x102), _0x5a8769[_0x4e735a(0x203)]['bottom'] = '40px', _0x5a8769[_0x4e735a(0x203)]['background'] = _0x4e735a(0x1f9), _0x5a8769['style'][_0x4e735a(0xe0)] = _0x4e735a(0x185), this[_0x4e735a(0xaf)](_0x4e735a(0xe8), _0x4e735a(0x123), 0x5dc0, 0x13880, _0x5a8769, 0x3e8), this[_0x4e735a(0xaf)](_0x4e735a(0x1b1), 'TRACK_TARGET_MATCH_COUNT', 0x10, 0x3c, _0x5a8769, 0x1), this[_0x4e735a(0xaf)](_0x4e735a(0x181), _0x4e735a(0x1a8), 0.001, 0.1, _0x5a8769, 0.001, 'setPoseFactorsInternal'), this['createSlider'](_0x4e735a(0x1ba), _0x4e735a(0x1a2), 0.001, 0.1, _0x5a8769, 0.001, 'setPoseFactorsInternal'), this[_0x4e735a(0xaf)]('Smoooth\x20Strength\x20(Pos)', 'KALMAN_MEAS_NOISE_POS', 0.05, 0x2, _0x5a8769, 0.05), this['createSlider']('Smoooth\x20Strength\x20(Rot)', _0x4e735a(0xbe), 0.05, 0x2, _0x5a8769, 0.05), this[_0x4e735a(0xaf)](_0x4e735a(0x126), _0x4e735a(0x13b), 0.001, 0.1, _0x5a8769, 0.001, _0x4e735a(0xf4)), this[_0x4e735a(0xaf)]('Stable\x20Threshold\x20(Rot)', _0x4e735a(0x13a), 0.001, 0.1, _0x5a8769, 0.001, _0x4e735a(0xf4)); var _0x10e5dd = document[_0x4e735a(0x16f)](_0x4e735a(0x21e)); _0x10e5dd[_0x4e735a(0x1d0)] = _0x4e735a(0x1a5), _0x10e5dd[_0x4e735a(0x141)] = () => { var _0x2d7d6f = _0x4e735a, _0x25d275 = Object[_0x2d7d6f(0x219)](this['debugSliders']); _0x25d275[_0x2d7d6f(0xfb)](_0x5415fc => { var _0x519e98 = _0x2d7d6f; this[_0x519e98(0x12b)][_0x5415fc]['slider']['value'] = tracker[_0x5415fc], this[_0x519e98(0x12b)][_0x5415fc][_0x519e98(0x22c)][_0x519e98(0x1d0)] = tracker[_0x5415fc]; }); }, _0x5a8769[_0x4e735a(0xac)](_0x10e5dd); } ['createSlider'](_0x498f8e, _0x2ebb06, _0x4a9f8c, _0x3a1292, _0x3ab0d9, _0x4de790 = 0.1, _0x425fb9) { var _0x39ed52 = _0x2c4d12, _0x465665 = document['createElement']('tr'); _0x3ab0d9['appendChild'](_0x465665); var _0x20729c = tracker[_0x2ebb06], _0x3553a8 = document['createElement']('td'); _0x3553a8['innerHTML'] = _0x498f8e, _0x3553a8[_0x39ed52(0x203)][_0x39ed52(0x12a)] = _0x39ed52(0x1d7), _0x465665['appendChild'](_0x3553a8); var _0x2bdbb2 = document[_0x39ed52(0x16f)](_0x39ed52(0x14b)); _0x2bdbb2['id'] = _0x498f8e, _0x2bdbb2['type'] = _0x39ed52(0xbc), _0x2bdbb2['step'] = _0x4de790, _0x2bdbb2['min'] = _0x4a9f8c, _0x2bdbb2[_0x39ed52(0x21a)] = _0x3a1292, _0x2bdbb2['value'] = _0x20729c, _0x2bdbb2[_0x39ed52(0x203)]['marginTop'] = 0x0, _0x2bdbb2[_0x39ed52(0x203)][_0x39ed52(0x113)] = 0x0, _0x2bdbb2['style'][_0x39ed52(0xe9)] = _0x39ed52(0xe2), _0x2bdbb2[_0x39ed52(0x203)][_0x39ed52(0xb1)] = _0x39ed52(0xab), _0x2bdbb2['onchange'] = () => { var _0x75fa12 = _0x39ed52; tracker[_0x2ebb06] = _0x2bdbb2[_0x75fa12(0x20d)], document[_0x75fa12(0x150)](_0x75fa12(0x16c) + _0x498f8e)[_0x75fa12(0x1d0)] = tracker[_0x75fa12(0x143)](_0x2bdbb2[_0x75fa12(0x20d)]), console['log'](_0x75fa12(0x201) + _0x2ebb06 + _0x75fa12(0x1ac) + tracker[_0x2ebb06]), _0x425fb9 && tracker[_0x425fb9](); }; var _0x120cdb = document['createElement']('td'); _0x465665[_0x39ed52(0xac)](_0x120cdb), _0x120cdb['appendChild'](_0x2bdbb2); var _0x519a16 = document[_0x39ed52(0x16f)]('td'); _0x519a16['id'] = _0x39ed52(0x16c) + _0x498f8e, _0x519a16[_0x39ed52(0x1d0)] = _0x20729c, _0x519a16[_0x39ed52(0x203)][_0x39ed52(0x12a)] = 'white', _0x465665[_0x39ed52(0xac)](_0x519a16); if (!this[_0x39ed52(0x12b)]) this[_0x39ed52(0x12b)] = {}; this[_0x39ed52(0x12b)][_0x2ebb06] = {}, this[_0x39ed52(0x12b)][_0x2ebb06][_0x39ed52(0x16c)] = _0x2bdbb2, this[_0x39ed52(0x12b)][_0x2ebb06][_0x39ed52(0x22c)] = _0x519a16; } [_0x2c4d12(0x143)](_0x334d86) { var _0x4965b7 = _0x2c4d12; return Math[_0x4965b7(0x143)](_0x334d86 * 0x3e8) / 0x3e8; } } function _0x2883(_0x59b8b6, _0x435c02) { var _0x2d52b5 = _0x5619(); return _0x2883 = function (_0x443383, _0x102c38) { _0x443383 = _0x443383 - 0x9f; var _0x4313e0 = _0x2d52b5[_0x443383]; return _0x4313e0; }, _0x2883(_0x59b8b6, _0x435c02); };
